{"version":3,"file":"useBlocker.js","sources":["../../src/useBlocker.tsx"],"sourcesContent":["import * as React from 'react'\nimport { ReactNode } from './route'\nimport { useRouter } from './RouterProvider'\nimport { BlockerFn } from '@tanstack/history'\n\nexport function useBlocker(\n  blockerFn: BlockerFn,\n  condition: boolean | any = true,\n): void {\n  const { history } = useRouter()\n\n  React.useEffect(() => {\n    if (!condition) return\n    return history.block(blockerFn)\n  })\n}\n\nexport function Block({ blocker, condition, children }: PromptProps) {\n  useBlocker(blocker, condition)\n  return (children ?? null) as ReactNode\n}\n\nexport type PromptProps = {\n  blocker: BlockerFn\n  condition?: boolean | any\n  children?: ReactNode\n}\n"],"names":["useBlocker","blockerFn","condition","history","useRouter","React","useEffect","block","Block","blocker","children"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKO,SAASA,UAAUA,CACxBC,SAAoB,EACpBC,SAAwB,GAAG,IAAI,EACzB;EACN,MAAM;AAAEC,IAAAA,OAAAA;GAAS,GAAGC,wBAAS,EAAE,CAAA;EAE/BC,gBAAK,CAACC,SAAS,CAAC,MAAM;IACpB,IAAI,CAACJ,SAAS,EAAE,OAAA;AAChB,IAAA,OAAOC,OAAO,CAACI,KAAK,CAACN,SAAS,CAAC,CAAA;AACjC,GAAC,CAAC,CAAA;AACJ,CAAA;AAEO,SAASO,KAAKA,CAAC;EAAEC,OAAO;EAAEP,SAAS;AAAEQ,EAAAA,QAAAA;AAAsB,CAAC,EAAE;AACnEV,EAAAA,UAAU,CAACS,OAAO,EAAEP,SAAS,CAAC,CAAA;EAC9B,OAAQQ,QAAQ,IAAI,IAAI,CAAA;AAC1B;;;;;"}