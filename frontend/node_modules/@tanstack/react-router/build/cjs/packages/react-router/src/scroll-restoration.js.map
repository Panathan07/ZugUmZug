{"version":3,"file":"scroll-restoration.js","sources":["../../../../../src/scroll-restoration.tsx"],"sourcesContent":["import * as React from 'react'\nimport {\n  ScrollRestorationOptions,\n  restoreScrollPositions,\n  watchScrollPositions,\n} from '@tanstack/router-core'\nimport { useRouter } from './react'\n\nconst useLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nexport function useScrollRestoration(options?: ScrollRestorationOptions) {\n  const router = useRouter()\n\n  useLayoutEffect(() => {\n    return watchScrollPositions(router, options)\n  }, [])\n\n  useLayoutEffect(() => {\n    restoreScrollPositions(router, options)\n  })\n}\n\nexport function ScrollRestoration(props: ScrollRestorationOptions) {\n  useScrollRestoration(props)\n  return null\n}\n"],"names":["useLayoutEffect","window","React","useEffect","useScrollRestoration","options","router","useRouter","watchScrollPositions","restoreScrollPositions","ScrollRestoration","props"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,MAAMA,eAAe,GACnB,OAAOC,MAAM,KAAK,WAAW,GAAGC,gBAAK,CAACF,eAAe,GAAGE,gBAAK,CAACC,SAAS,CAAA;AAElE,SAASC,oBAAoBA,CAACC,OAAkC,EAAE;AACvE,EAAA,MAAMC,MAAM,GAAGC,eAAS,EAAE,CAAA;AAE1BP,EAAAA,eAAe,CAAC,MAAM;AACpB,IAAA,OAAOQ,+BAAoB,CAACF,MAAM,EAAED,OAAO,CAAC,CAAA;GAC7C,EAAE,EAAE,CAAC,CAAA;AAENL,EAAAA,eAAe,CAAC,MAAM;AACpBS,IAAAA,iCAAsB,CAACH,MAAM,EAAED,OAAO,CAAC,CAAA;AACzC,GAAC,CAAC,CAAA;AACJ,CAAA;AAEO,SAASK,iBAAiBA,CAACC,KAA+B,EAAE;EACjEP,oBAAoB,CAACO,KAAK,CAAC,CAAA;AAC3B,EAAA,OAAO,IAAI,CAAA;AACb;;;;;"}