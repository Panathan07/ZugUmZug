{"version":3,"file":"index.development.js","sources":["../../../history/build/esm/index.js","../../../../node_modules/.pnpm/tiny-invariant@1.3.1/node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../../../../node_modules/.pnpm/tiny-warning@1.0.3/node_modules/tiny-warning/dist/tiny-warning.esm.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/with-selector.js","../../../../node_modules/.pnpm/@tanstack+store@0.1.3/node_modules/@tanstack/store/build/modern/index.js","../../../../node_modules/.pnpm/@tanstack+react-store@0.2.1_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-store/build/modern/index.js","../../src/CatchBoundary.tsx","../../src/utils.ts","../../src/Matches.tsx","../../src/RouterProvider.tsx","../../src/defer.ts","../../src/awaited.tsx","../../src/path.ts","../../src/useParams.tsx","../../src/useSearch.tsx","../../src/route.ts","../../src/fileRoute.ts","../../src/lazyRouteComponent.tsx","../../src/link.tsx","../../src/qss.ts","../../src/redirects.ts","../../src/searchParams.ts","../../src/router.ts","../../src/scroll-restoration.tsx","../../src/useBlocker.tsx","../../src/useNavigate.tsx"],"sourcesContent":["/**\n * @tanstack/history/src/index.ts\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\n// While the public API was clearly inspired by the \"history\" npm package,\n// This implementation attempts to be more lightweight by\n// making assumptions about the way TanStack Router works\n\nconst pushStateEvent = 'pushstate';\nconst popStateEvent = 'popstate';\nconst beforeUnloadEvent = 'beforeunload';\nconst beforeUnloadListener = event => {\n  event.preventDefault();\n  // @ts-ignore\n  return event.returnValue = '';\n};\nconst stopBlocking = () => {\n  removeEventListener(beforeUnloadEvent, beforeUnloadListener, {\n    capture: true\n  });\n};\nfunction createHistory(opts) {\n  let location = opts.getLocation();\n  let subscribers = new Set();\n  let blockers = [];\n  const onUpdate = () => {\n    location = opts.getLocation();\n    subscribers.forEach(subscriber => subscriber());\n  };\n  const tryNavigation = async task => {\n    if (typeof document !== 'undefined' && blockers.length) {\n      for (let blocker of blockers) {\n        const allowed = await blocker();\n        if (!allowed) {\n          opts.onBlocked?.(onUpdate);\n          return;\n        }\n      }\n    }\n    task();\n  };\n  return {\n    get location() {\n      return location;\n    },\n    subscribe: cb => {\n      subscribers.add(cb);\n      return () => {\n        subscribers.delete(cb);\n      };\n    },\n    push: (path, state) => {\n      state = assignKey(state);\n      tryNavigation(() => {\n        opts.pushState(path, state, onUpdate);\n      });\n    },\n    replace: (path, state) => {\n      state = assignKey(state);\n      tryNavigation(() => {\n        opts.replaceState(path, state, onUpdate);\n      });\n    },\n    go: index => {\n      tryNavigation(() => {\n        opts.go(index);\n      });\n    },\n    back: () => {\n      tryNavigation(() => {\n        opts.back();\n      });\n    },\n    forward: () => {\n      tryNavigation(() => {\n        opts.forward();\n      });\n    },\n    createHref: str => opts.createHref(str),\n    block: blocker => {\n      blockers.push(blocker);\n      if (blockers.length === 1) {\n        addEventListener(beforeUnloadEvent, beforeUnloadListener, {\n          capture: true\n        });\n      }\n      return () => {\n        blockers = blockers.filter(b => b !== blocker);\n        if (!blockers.length) {\n          stopBlocking();\n        }\n      };\n    },\n    flush: () => opts.flush?.(),\n    destroy: () => opts.destroy?.(),\n    notify: onUpdate\n  };\n}\nfunction assignKey(state) {\n  if (!state) {\n    state = {};\n  }\n  return {\n    ...state,\n    key: createRandomKey()\n  };\n}\n\n/**\n * Creates a history object that can be used to interact with the browser's\n * navigation. This is a lightweight API wrapping the browser's native methods.\n * It is designed to work with TanStack Router, but could be used as a standalone API as well.\n * IMPORTANT: This API implements history throttling via a microtask to prevent\n * excessive calls to the history API. In some browsers, calling history.pushState or\n * history.replaceState in quick succession can cause the browser to ignore subsequent\n * calls. This API smooths out those differences and ensures that your application\n * state will *eventually* match the browser state. In most cases, this is not a problem,\n * but if you need to ensure that the browser state is up to date, you can use the\n * `history.flush` method to immediately flush all pending state changes to the browser URL.\n * @param opts\n * @param opts.getHref A function that returns the current href (path + search + hash)\n * @param opts.createHref A function that takes a path and returns a href (path + search + hash)\n * @returns A history instance\n */\nfunction createBrowserHistory(opts) {\n  const win = opts?.window ?? (typeof document !== 'undefined' ? window : undefined);\n  const createHref = opts?.createHref ?? (path => path);\n  const parseLocation = opts?.parseLocation ?? (() => parseHref(`${win.location.pathname}${win.location.search}${win.location.hash}`, win.history.state));\n  let currentLocation = parseLocation();\n  let rollbackLocation;\n  const getLocation = () => currentLocation;\n  let next;\n\n  // Because we are proactively updating the location\n  // in memory before actually updating the browser history,\n  // we need to track when we are doing this so we don't\n  // notify subscribers twice on the last update.\n  let tracking = true;\n\n  // We need to track the current scheduled update to prevent\n  // multiple updates from being scheduled at the same time.\n  let scheduled;\n\n  // This function is a wrapper to prevent any of the callback's\n  // side effects from causing a subscriber notification\n  const untrack = fn => {\n    tracking = false;\n    fn();\n    tracking = true;\n  };\n\n  // This function flushes the next update to the browser history\n  const flush = () => {\n    // Do not notify subscribers about this push/replace call\n    untrack(() => {\n      if (!next) return;\n      win.history[next.isPush ? 'pushState' : 'replaceState'](next.state, '', next.href);\n      // Reset the nextIsPush flag and clear the scheduled update\n      next = undefined;\n      scheduled = undefined;\n      rollbackLocation = undefined;\n    });\n  };\n\n  // This function queues up a call to update the browser history\n  const queueHistoryAction = (type, destHref, state, onUpdate) => {\n    const href = createHref(destHref);\n    if (!scheduled) {\n      rollbackLocation = currentLocation;\n    }\n\n    // Update the location in memory\n    currentLocation = parseHref(destHref, state);\n\n    // Keep track of the next location we need to flush to the URL\n    next = {\n      href,\n      state,\n      isPush: next?.isPush || type === 'push'\n    };\n\n    // Notify subscribers\n    onUpdate();\n    if (!scheduled) {\n      // Schedule an update to the browser history\n      scheduled = Promise.resolve().then(() => flush());\n    }\n  };\n  const onPushPop = () => {\n    currentLocation = parseLocation();\n    history.notify();\n  };\n  var originalPushState = win.history.pushState;\n  var originalReplaceState = win.history.replaceState;\n  const history = createHistory({\n    getLocation,\n    pushState: (href, state, onUpdate) => queueHistoryAction('push', href, state, onUpdate),\n    replaceState: (href, state, onUpdate) => queueHistoryAction('replace', href, state, onUpdate),\n    back: () => win.history.back(),\n    forward: () => win.history.forward(),\n    go: n => win.history.go(n),\n    createHref: href => createHref(href),\n    flush,\n    destroy: () => {\n      win.history.pushState = originalPushState;\n      win.history.replaceState = originalReplaceState;\n      win.removeEventListener(pushStateEvent, onPushPop);\n      win.removeEventListener(popStateEvent, onPushPop);\n    },\n    onBlocked: onUpdate => {\n      // If a navigation is blocked, we need to rollback the location\n      // that we optimistically updated in memory.\n      if (rollbackLocation && currentLocation !== rollbackLocation) {\n        currentLocation = rollbackLocation;\n        // Notify subscribers\n        onUpdate();\n      }\n    }\n  });\n  win.addEventListener(pushStateEvent, onPushPop);\n  win.addEventListener(popStateEvent, onPushPop);\n  win.history.pushState = function () {\n    let res = originalPushState.apply(win.history, arguments);\n    if (tracking) history.notify();\n    return res;\n  };\n  win.history.replaceState = function () {\n    let res = originalReplaceState.apply(win.history, arguments);\n    if (tracking) history.notify();\n    return res;\n  };\n  return history;\n}\nfunction createHashHistory(opts) {\n  const win = opts?.window ?? (typeof document !== 'undefined' ? window : undefined);\n  return createBrowserHistory({\n    window: win,\n    parseLocation: () => {\n      const hashHref = win.location.hash.split('#').slice(1).join('#') ?? '/';\n      return parseHref(hashHref, win.history.state);\n    },\n    createHref: href => `${win.location.pathname}${win.location.search}#${href}`\n  });\n}\nfunction createMemoryHistory(opts = {\n  initialEntries: ['/']\n}) {\n  const entries = opts.initialEntries;\n  let index = opts.initialIndex ?? entries.length - 1;\n  let currentState = {\n    key: createRandomKey()\n  };\n  const getLocation = () => parseHref(entries[index], currentState);\n  return createHistory({\n    getLocation,\n    pushState: (path, state) => {\n      currentState = state;\n      entries.push(path);\n      index++;\n    },\n    replaceState: (path, state) => {\n      currentState = state;\n      entries[index] = path;\n    },\n    back: () => {\n      index--;\n    },\n    forward: () => {\n      index = Math.min(index + 1, entries.length - 1);\n    },\n    go: n => {\n      index = Math.min(Math.max(index + n, 0), entries.length - 1);\n    },\n    createHref: path => path\n  });\n}\nfunction parseHref(href, state) {\n  let hashIndex = href.indexOf('#');\n  let searchIndex = href.indexOf('?');\n  return {\n    href,\n    pathname: href.substring(0, hashIndex > 0 ? searchIndex > 0 ? Math.min(hashIndex, searchIndex) : hashIndex : searchIndex > 0 ? searchIndex : href.length),\n    hash: hashIndex > -1 ? href.substring(hashIndex) : '',\n    search: searchIndex > -1 ? href.slice(searchIndex, hashIndex === -1 ? undefined : hashIndex) : '',\n    state: state || {}\n  };\n}\n\n// Thanks co-pilot!\nfunction createRandomKey() {\n  return (Math.random() + 1).toString(36).substring(7);\n}\n\nexport { createBrowserHistory, createHashHistory, createHistory, createMemoryHistory };\n//# sourceMappingURL=index.js.map\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\nvar shim = require('use-sync-external-store/shim');\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\nvar useSyncExternalStore = shim.useSyncExternalStore;\n\n// for CommonJS interop.\n\nvar useRef = React.useRef,\n    useEffect = React.useEffect,\n    useMemo = React.useMemo,\n    useDebugValue = React.useDebugValue; // Same as useSyncExternalStore, but supports selector and isEqual arguments.\n\nfunction useSyncExternalStoreWithSelector(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n  // Use this to track the rendered snapshot.\n  var instRef = useRef(null);\n  var inst;\n\n  if (instRef.current === null) {\n    inst = {\n      hasValue: false,\n      value: null\n    };\n    instRef.current = inst;\n  } else {\n    inst = instRef.current;\n  }\n\n  var _useMemo = useMemo(function () {\n    // Track the memoized state using closure variables that are local to this\n    // memoized instance of a getSnapshot function. Intentionally not using a\n    // useRef hook, because that state would be shared across all concurrent\n    // copies of the hook/component.\n    var hasMemo = false;\n    var memoizedSnapshot;\n    var memoizedSelection;\n\n    var memoizedSelector = function (nextSnapshot) {\n      if (!hasMemo) {\n        // The first time the hook is called, there is no memoized result.\n        hasMemo = true;\n        memoizedSnapshot = nextSnapshot;\n\n        var _nextSelection = selector(nextSnapshot);\n\n        if (isEqual !== undefined) {\n          // Even if the selector has changed, the currently rendered selection\n          // may be equal to the new selection. We should attempt to reuse the\n          // current value if possible, to preserve downstream memoizations.\n          if (inst.hasValue) {\n            var currentSelection = inst.value;\n\n            if (isEqual(currentSelection, _nextSelection)) {\n              memoizedSelection = currentSelection;\n              return currentSelection;\n            }\n          }\n        }\n\n        memoizedSelection = _nextSelection;\n        return _nextSelection;\n      } // We may be able to reuse the previous invocation's result.\n\n\n      // We may be able to reuse the previous invocation's result.\n      var prevSnapshot = memoizedSnapshot;\n      var prevSelection = memoizedSelection;\n\n      if (objectIs(prevSnapshot, nextSnapshot)) {\n        // The snapshot is the same as last time. Reuse the previous selection.\n        return prevSelection;\n      } // The snapshot has changed, so we need to compute a new selection.\n\n\n      // The snapshot has changed, so we need to compute a new selection.\n      var nextSelection = selector(nextSnapshot); // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n\n      // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n      if (isEqual !== undefined && isEqual(prevSelection, nextSelection)) {\n        return prevSelection;\n      }\n\n      memoizedSnapshot = nextSnapshot;\n      memoizedSelection = nextSelection;\n      return nextSelection;\n    }; // Assigning this to a constant so that Flow knows it can't change.\n\n\n    // Assigning this to a constant so that Flow knows it can't change.\n    var maybeGetServerSnapshot = getServerSnapshot === undefined ? null : getServerSnapshot;\n\n    var getSnapshotWithSelector = function () {\n      return memoizedSelector(getSnapshot());\n    };\n\n    var getServerSnapshotWithSelector = maybeGetServerSnapshot === null ? undefined : function () {\n      return memoizedSelector(maybeGetServerSnapshot());\n    };\n    return [getSnapshotWithSelector, getServerSnapshotWithSelector];\n  }, [getSnapshot, getServerSnapshot, selector, isEqual]),\n      getSelection = _useMemo[0],\n      getServerSelection = _useMemo[1];\n\n  var value = useSyncExternalStore(subscribe, getSelection, getServerSelection);\n  useEffect(function () {\n    inst.hasValue = true;\n    inst.value = value;\n  }, [value]);\n  useDebugValue(value);\n  return value;\n}\n\nexports.useSyncExternalStoreWithSelector = useSyncExternalStoreWithSelector;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","// src/index.ts\nvar Store = class {\n  constructor(initialState, options) {\n    this.listeners = /* @__PURE__ */ new Set();\n    this._batching = false;\n    this._flushing = 0;\n    this._nextPriority = null;\n    this.subscribe = (listener) => {\n      this.listeners.add(listener);\n      const unsub = this.options?.onSubscribe?.(listener, this);\n      return () => {\n        this.listeners.delete(listener);\n        unsub?.();\n      };\n    };\n    this.setState = (updater, opts) => {\n      const previous = this.state;\n      this.state = this.options?.updateFn ? this.options.updateFn(previous)(updater) : updater(previous);\n      const priority = opts?.priority ?? this.options?.defaultPriority ?? \"high\";\n      if (this._nextPriority === null) {\n        this._nextPriority = priority;\n      } else if (this._nextPriority === \"high\") {\n        this._nextPriority = priority;\n      } else {\n        this._nextPriority = this.options?.defaultPriority ?? \"high\";\n      }\n      this.options?.onUpdate?.({\n        priority: this._nextPriority\n      });\n      this._flush();\n    };\n    this._flush = () => {\n      if (this._batching)\n        return;\n      const flushId = ++this._flushing;\n      this.listeners.forEach((listener) => {\n        if (this._flushing !== flushId)\n          return;\n        listener({\n          priority: this._nextPriority ?? \"high\"\n        });\n      });\n    };\n    this.batch = (cb) => {\n      if (this._batching)\n        return cb();\n      this._batching = true;\n      cb();\n      this._batching = false;\n      this._flush();\n    };\n    this.state = initialState;\n    this.options = options;\n  }\n};\nexport {\n  Store\n};\n//# sourceMappingURL=index.js.map","// src/index.ts\nimport { useSyncExternalStoreWithSelector } from \"use-sync-external-store/shim/with-selector.js\";\nexport * from \"@tanstack/store\";\nfunction useStore(store, selector = (d) => d) {\n  const slice = useSyncExternalStoreWithSelector(\n    store.subscribe,\n    () => store.state,\n    () => store.state,\n    selector,\n    shallow\n  );\n  return slice;\n}\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nexport {\n  shallow,\n  useStore\n};\n//# sourceMappingURL=index.js.map","import * as React from 'react'\n\nexport function CatchBoundary(props: {\n  getResetKey: () => string\n  children: any\n  errorComponent?: any\n  onCatch: (error: any) => void\n}) {\n  const errorComponent = props.errorComponent ?? ErrorComponent\n\n  return (\n    <CatchBoundaryImpl\n      getResetKey={props.getResetKey}\n      onCatch={props.onCatch}\n      children={({ error }) => {\n        if (error) {\n          return React.createElement(errorComponent, {\n            error,\n          })\n        }\n\n        return props.children\n      }}\n    />\n  )\n}\n\nexport class CatchBoundaryImpl extends React.Component<{\n  getResetKey: () => string\n  children: (props: { error: any; reset: () => void }) => any\n  onCatch?: (error: any) => void\n}> {\n  state = { error: null } as any\n  static getDerivedStateFromProps(props: any) {\n    return { resetKey: props.getResetKey() }\n  }\n  static getDerivedStateFromError(error: any) {\n    return { error }\n  }\n  componentDidUpdate(\n    prevProps: Readonly<{\n      getResetKey: () => string\n      children: (props: { error: any; reset: () => void }) => any\n      onCatch?: ((error: any, info: any) => void) | undefined\n    }>,\n    prevState: any,\n  ): void {\n    if (prevState.error && prevState.resetKey !== this.state.resetKey) {\n      this.setState({ error: null })\n    }\n  }\n  componentDidCatch(error: any) {\n    console.error(error)\n    this.props.onCatch?.(error)\n  }\n  render() {\n    return this.props.children(this.state)\n  }\n}\n\nexport function ErrorComponent({ error }: { error: any }) {\n  const [show, setShow] = React.useState(process.env.NODE_ENV !== 'production')\n\n  return (\n    <div style={{ padding: '.5rem', maxWidth: '100%' }}>\n      <div style={{ display: 'flex', alignItems: 'center', gap: '.5rem' }}>\n        <strong style={{ fontSize: '1rem' }}>Something went wrong!</strong>\n        <button\n          style={{\n            appearance: 'none',\n            fontSize: '.6em',\n            border: '1px solid currentColor',\n            padding: '.1rem .2rem',\n            fontWeight: 'bold',\n            borderRadius: '.25rem',\n          }}\n          onClick={() => setShow((d) => !d)}\n        >\n          {show ? 'Hide Error' : 'Show Error'}\n        </button>\n      </div>\n      <div style={{ height: '.25rem' }} />\n      {show ? (\n        <div>\n          <pre\n            style={{\n              fontSize: '.7em',\n              border: '1px solid red',\n              borderRadius: '.25rem',\n              padding: '.3rem',\n              color: 'red',\n              overflow: 'auto',\n            }}\n          >\n            {error.message ? <code>{error.message}</code> : null}\n          </pre>\n        </div>\n      ) : null}\n    </div>\n  )\n}\n","import * as React from 'react'\nimport { useMatch } from './Matches'\nimport { RouteMatch } from './Matches'\nimport { AnyRoute } from './route'\nimport { ParseRoute, RouteIds, RoutesById, RouteById } from './routeInfo'\nimport { RegisteredRouter } from './router'\n\nexport type NoInfer<T> = [T][T extends any ? 0 : never]\nexport type IsAny<T, Y, N = T> = 1 extends 0 & T ? Y : N\nexport type IsAnyBoolean<T> = 1 extends 0 & T ? true : false\nexport type IsKnown<T, Y, N> = unknown extends T ? N : Y\nexport type PickAsRequired<T, K extends keyof T> = Omit<T, K> &\n  Required<Pick<T, K>>\nexport type PickAsPartial<T, K extends keyof T> = Omit<T, K> &\n  Partial<Pick<T, K>>\nexport type PickUnsafe<T, K> = K extends keyof T ? Pick<T, K> : never\nexport type PickExtra<T, K> = {\n  [TKey in keyof K as string extends TKey\n    ? never\n    : TKey extends keyof T\n    ? never\n    : TKey]: K[TKey]\n}\n\nexport type PickRequired<T> = {\n  [K in keyof T as undefined extends T[K] ? never : K]: T[K]\n}\n\n// export type Expand<T> = T\nexport type Expand<T> = T extends object\n  ? T extends infer O\n    ? { [K in keyof O]: O[K] }\n    : never\n  : T\n\nexport type UnionToIntersection<U> = (\n  U extends any ? (k: U) => void : never\n) extends (k: infer I) => any\n  ? I\n  : never\n\n// type Compute<T> = { [K in keyof T]: T[K] } | never\n\n// type AllKeys<T> = T extends any ? keyof T : never\n\n// export type MergeUnion<T, Keys extends keyof T = keyof T> = Compute<\n//   {\n//     [K in Keys]: T[Keys]\n//   } & {\n//     [K in AllKeys<T>]?: T extends any\n//       ? K extends keyof T\n//         ? T[K]\n//         : never\n//       : never\n//   }\n// >\n\nexport type Assign<Left, Right> = Omit<Left, keyof Right> & Right\n\nexport type AssignAll<T extends any[]> = T extends [infer Left, ...infer Right]\n  ? Right extends any[]\n    ? Assign<Left, AssignAll<Right>>\n    : Left\n  : {}\n\n// // Sample types to merge\n// type TypeA = {\n//   shared: string\n//   onlyInA: string\n//   nested: {\n//     shared: string\n//     aProp: string\n//   }\n//   array: string[]\n// }\n\n// type TypeB = {\n//   shared: number\n//   onlyInB: number\n//   nested: {\n//     shared: number\n//     bProp: number\n//   }\n//   array: number[]\n// }\n\n// type TypeC = {\n//   shared: boolean\n//   onlyInC: boolean\n//   nested: {\n//     shared: boolean\n//     cProp: boolean\n//   }\n//   array: boolean[]\n// }\n\n// type Test = Expand<Assign<TypeA, TypeB>>\n\n// // Using DeepMerge to merge TypeA and TypeB\n// type MergedType = Expand<AssignAll<[TypeA, TypeB, TypeC]>>\n\nexport type Values<O> = O[ValueKeys<O>]\nexport type ValueKeys<O> = Extract<keyof O, PropertyKey>\n\nexport type DeepAwaited<T> = T extends Promise<infer A>\n  ? DeepAwaited<A>\n  : T extends Record<infer A, Promise<infer B>>\n  ? { [K in A]: DeepAwaited<B> }\n  : T\n\nexport type PathParamMask<TRoutePath extends string> =\n  TRoutePath extends `${infer L}/$${infer C}/${infer R}`\n    ? PathParamMask<`${L}/${string}/${R}`>\n    : TRoutePath extends `${infer L}/$${infer C}`\n    ? PathParamMask<`${L}/${string}`>\n    : TRoutePath\n\nexport type Timeout = ReturnType<typeof setTimeout>\n\nexport type Updater<TPrevious, TResult = TPrevious> =\n  | TResult\n  | ((prev?: TPrevious) => TResult)\n\nexport type NonNullableUpdater<TPrevious, TResult = TPrevious> =\n  | TResult\n  | ((prev: TPrevious) => TResult)\n\nexport type PickExtract<T, U> = {\n  [K in keyof T as T[K] extends U ? K : never]: T[K]\n}\n\nexport type PickExclude<T, U> = {\n  [K in keyof T as T[K] extends U ? never : K]: T[K]\n}\n\n// from https://github.com/type-challenges/type-challenges/issues/737\ntype LastInUnion<U> = UnionToIntersection<\n  U extends unknown ? (x: U) => 0 : never\n> extends (x: infer L) => 0\n  ? L\n  : never\nexport type UnionToTuple<U, Last = LastInUnion<U>> = [U] extends [never]\n  ? []\n  : [...UnionToTuple<Exclude<U, Last>>, Last]\n\n//\n\nexport const isServer = typeof document === 'undefined'\n\nexport function last<T>(arr: T[]) {\n  return arr[arr.length - 1]\n}\n\nfunction isFunction(d: any): d is Function {\n  return typeof d === 'function'\n}\n\nexport function functionalUpdate<TResult>(\n  updater: Updater<TResult> | NonNullableUpdater<TResult>,\n  previous: TResult,\n): TResult {\n  if (isFunction(updater)) {\n    return updater(previous as TResult)\n  }\n\n  return updater\n}\n\nexport function pick<T, K extends keyof T>(parent: T, keys: K[]): Pick<T, K> {\n  return keys.reduce((obj: any, key: K) => {\n    obj[key] = parent[key]\n    return obj\n  }, {} as any)\n}\n\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between immutable JSON values for example.\n * Do not use this with signals\n */\nexport function replaceEqualDeep<T>(prev: any, _next: T): T {\n  if (prev === _next) {\n    return prev\n  }\n\n  const next = _next as any\n\n  const array = Array.isArray(prev) && Array.isArray(next)\n\n  if (array || (isPlainObject(prev) && isPlainObject(next))) {\n    const prevSize = array ? prev.length : Object.keys(prev).length\n    const nextItems = array ? next : Object.keys(next)\n    const nextSize = nextItems.length\n    const copy: any = array ? [] : {}\n\n    let equalItems = 0\n\n    for (let i = 0; i < nextSize; i++) {\n      const key = array ? i : nextItems[i]\n      copy[key] = replaceEqualDeep(prev[key], next[key])\n      if (copy[key] === prev[key]) {\n        equalItems++\n      }\n    }\n\n    return prevSize === nextSize && equalItems === prevSize ? prev : copy\n  }\n\n  return next\n}\n\n// Copied from: https://github.com/jonschlinkert/is-plain-object\nexport function isPlainObject(o: any) {\n  if (!hasObjectPrototype(o)) {\n    return false\n  }\n\n  // If has modified constructor\n  const ctor = o.constructor\n  if (typeof ctor === 'undefined') {\n    return true\n  }\n\n  // If has modified prototype\n  const prot = ctor.prototype\n  if (!hasObjectPrototype(prot)) {\n    return false\n  }\n\n  // If constructor does not have an Object-specific method\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false\n  }\n\n  // Most likely a plain Object\n  return true\n}\n\nfunction hasObjectPrototype(o: any) {\n  return Object.prototype.toString.call(o) === '[object Object]'\n}\n\nexport function deepEqual(a: any, b: any, partial: boolean = false): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (isPlainObject(a) && isPlainObject(b)) {\n    const aKeys = Object.keys(a)\n    const bKeys = Object.keys(b)\n\n    if (!partial && aKeys.length !== bKeys.length) {\n      return false\n    }\n\n    return !bKeys.some(\n      (key) => !(key in a) || !deepEqual(a[key], b[key], partial),\n    )\n  }\n\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return !a.some((item, index) => !deepEqual(item, b[index], partial))\n  }\n\n  return false\n}\n\nexport function useStableCallback<T extends (...args: any[]) => any>(fn: T): T {\n  const fnRef = React.useRef(fn)\n  fnRef.current = fn\n\n  const ref = React.useRef((...args: any[]) => fnRef.current(...args))\n  return ref.current as T\n}\n\nexport function shallow<T>(objA: T, objB: T) {\n  if (Object.is(objA, objB)) {\n    return true\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false\n  }\n\n  const keysA = Object.keys(objA)\n  if (keysA.length !== Object.keys(objB).length) {\n    return false\n  }\n\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !Object.prototype.hasOwnProperty.call(objB, keysA[i] as string) ||\n      !Object.is(objA[keysA[i] as keyof T], objB[keysA[i] as keyof T])\n    ) {\n      return false\n    }\n  }\n  return true\n}\n\nexport type StrictOrFrom<TFrom> =\n  | {\n      from: TFrom\n      strict?: true\n    }\n  | {\n      from?: never\n      strict: false\n    }\n\nexport type RouteFromIdOrRoute<\n  T,\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n> = T extends ParseRoute<TRouteTree>\n  ? T\n  : T extends RouteIds<TRouteTree>\n  ? RoutesById<TRouteTree>[T]\n  : T extends string\n  ? RouteIds<TRouteTree>\n  : never\n\nexport function useRouteContext<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RouteIds<TRouteTree> = RouteIds<TRouteTree>,\n  TStrict extends boolean = true,\n  TRouteContext = RouteById<TRouteTree, TFrom>['types']['allContext'],\n  TSelected = TRouteContext,\n>(\n  opts: StrictOrFrom<TFrom> & {\n    select?: (search: TRouteContext) => TSelected\n  },\n): TStrict extends true ? TSelected : TSelected | undefined {\n  return useMatch({\n    ...(opts as any),\n    select: (match: RouteMatch) =>\n      opts?.select\n        ? opts.select(match.context as TRouteContext)\n        : match.context,\n  })\n}\n\nexport const useLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nexport function escapeJSON(jsonString: string) {\n  return jsonString\n    .replace(/\\\\/g, '\\\\\\\\') // Escape backslashes\n    .replace(/'/g, \"\\\\'\") // Escape single quotes\n    .replace(/\"/g, '\\\\\"') // Escape double quotes\n}\n","import * as React from 'react'\nimport invariant from 'tiny-invariant'\nimport warning from 'tiny-warning'\nimport { CatchBoundary, ErrorComponent } from './CatchBoundary'\nimport { useRouter, useRouterState } from './RouterProvider'\nimport { ResolveRelativePath, ToOptions } from './link'\nimport { AnyRoute, ReactNode, rootRouteId } from './route'\nimport {\n  FullSearchSchema,\n  ParseRoute,\n  RouteById,\n  RouteByPath,\n  RouteIds,\n  RoutePaths,\n} from './routeInfo'\nimport { RegisteredRouter, RouterState } from './router'\nimport { NoInfer, StrictOrFrom, pick } from './utils'\n\nexport const matchContext = React.createContext<string | undefined>(undefined)\n\nexport interface RouteMatch<\n  TRouteTree extends AnyRoute = AnyRoute,\n  TRouteId extends RouteIds<TRouteTree> = ParseRoute<TRouteTree>['id'],\n> {\n  id: string\n  routeId: TRouteId\n  pathname: string\n  params: RouteById<TRouteTree, TRouteId>['types']['allParams']\n  status: 'pending' | 'success' | 'error'\n  isFetching: boolean\n  showPending: boolean\n  error: unknown\n  paramsError: unknown\n  searchError: unknown\n  updatedAt: number\n  loadPromise?: Promise<void>\n  loaderData?: RouteById<TRouteTree, TRouteId>['types']['loaderData']\n  routeContext: RouteById<TRouteTree, TRouteId>['types']['routeContext']\n  context: RouteById<TRouteTree, TRouteId>['types']['allContext']\n  search: FullSearchSchema<TRouteTree> &\n    RouteById<TRouteTree, TRouteId>['types']['fullSearchSchema']\n  fetchCount: number\n  abortController: AbortController\n  cause: 'preload' | 'enter' | 'stay'\n  loaderDeps: RouteById<TRouteTree, TRouteId>['types']['loaderDeps']\n  preload: boolean\n  invalid: boolean\n}\n\nexport type AnyRouteMatch = RouteMatch<any, any>\n\nexport function Matches() {\n  const router = useRouter()\n  const matchId = useRouterState({\n    select: (s) => {\n      return getRenderedMatches(s)[0]?.id\n    },\n  })\n\n  return (\n    <matchContext.Provider value={matchId}>\n      <CatchBoundary\n        getResetKey={() => router.state.resolvedLocation.state?.key}\n        errorComponent={ErrorComponent}\n        onCatch={() => {\n          warning(\n            false,\n            `Error in router! Consider setting an 'errorComponent' in your RootRoute! ðŸ‘`,\n          )\n        }}\n      >\n        {matchId ? <Match matchId={matchId} /> : null}\n      </CatchBoundary>\n    </matchContext.Provider>\n  )\n}\n\nfunction SafeFragment(props: any) {\n  return <>{props.children}</>\n}\n\nexport function Match({ matchId }: { matchId: string }) {\n  const router = useRouter()\n  const routeId = useRouterState({\n    select: (s) =>\n      getRenderedMatches(s).find((d) => d.id === matchId)?.routeId as string,\n  })\n\n  invariant(\n    routeId,\n    `Could not find routeId for matchId \"${matchId}\". Please file an issue!`,\n  )\n\n  const route = router.routesById[routeId]!\n\n  const PendingComponent = (route.options.pendingComponent ??\n    router.options.defaultPendingComponent) as any\n\n  const pendingElement = PendingComponent ? <PendingComponent /> : null\n\n  const routeErrorComponent =\n    route.options.errorComponent ??\n    router.options.defaultErrorComponent ??\n    ErrorComponent\n\n  const ResolvedSuspenseBoundary =\n    route.options.wrapInSuspense ??\n    PendingComponent ??\n    route.options.component?.preload ??\n    route.options.pendingComponent?.preload ??\n    (route.options.errorComponent as any)?.preload\n      ? React.Suspense\n      : SafeFragment\n\n  const ResolvedCatchBoundary = routeErrorComponent\n    ? CatchBoundary\n    : SafeFragment\n\n  return (\n    <matchContext.Provider value={matchId}>\n      <ResolvedSuspenseBoundary fallback={pendingElement}>\n        <ResolvedCatchBoundary\n          getResetKey={() => router.state.resolvedLocation.state?.key}\n          errorComponent={routeErrorComponent}\n          onCatch={() => {\n            warning(false, `Error in route match: ${matchId}`)\n          }}\n        >\n          <MatchInner matchId={matchId!} pendingElement={pendingElement} />\n        </ResolvedCatchBoundary>\n      </ResolvedSuspenseBoundary>\n    </matchContext.Provider>\n  )\n}\n\nfunction MatchInner({\n  matchId,\n  pendingElement,\n}: {\n  matchId: string\n  pendingElement: any\n}): any {\n  const router = useRouter()\n  const routeId = useRouterState({\n    select: (s) =>\n      getRenderedMatches(s).find((d) => d.id === matchId)?.routeId as string,\n  })\n\n  const route = router.routesById[routeId]!\n\n  const match = useRouterState({\n    select: (s) =>\n      pick(getRenderedMatches(s).find((d) => d.id === matchId)!, [\n        'status',\n        'error',\n        'showPending',\n        'loadPromise',\n      ]),\n  })\n\n  if (match.status === 'error') {\n    throw match.error\n  }\n\n  if (match.status === 'pending') {\n    if (match.showPending) {\n      return pendingElement\n    }\n    throw match.loadPromise\n  }\n\n  if (match.status === 'success') {\n    let Comp = route.options.component ?? router.options.defaultComponent\n\n    if (Comp) {\n      return <Comp />\n    }\n\n    return <Outlet />\n  }\n\n  invariant(\n    false,\n    'Idle routeMatch status encountered during rendering! You should never see this. File an issue!',\n  )\n}\n\nexport const Outlet = React.memo(function Outlet() {\n  const matchId = React.useContext(matchContext)\n\n  const childMatchId = useRouterState({\n    select: (s) => {\n      const matches = getRenderedMatches(s)\n      const index = matches.findIndex((d) => d.id === matchId)\n      return matches[index + 1]?.id\n    },\n  })\n\n  if (!childMatchId) {\n    return null\n  }\n\n  return <Match matchId={childMatchId} />\n})\n\nexport interface MatchRouteOptions {\n  pending?: boolean\n  caseSensitive?: boolean\n  includeSearch?: boolean\n  fuzzy?: boolean\n}\n\nexport type UseMatchRouteOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n> = ToOptions<AnyRoute, TFrom, TTo, TMaskFrom, TMaskTo> & MatchRouteOptions\n\nexport function useMatchRoute<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n>() {\n  useRouterState({ select: (s) => [s.location, s.resolvedLocation] })\n  const { matchRoute } = useRouter()\n\n  return React.useCallback(\n    <\n      TFrom extends RoutePaths<TRouteTree> = '/',\n      TTo extends string = '',\n      TMaskFrom extends RoutePaths<TRouteTree> = '/',\n      TMaskTo extends string = '',\n      TResolved extends string = ResolveRelativePath<TFrom, NoInfer<TTo>>,\n    >(\n      opts: UseMatchRouteOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>,\n    ): false | RouteById<TRouteTree, TResolved>['types']['allParams'] => {\n      const { pending, caseSensitive, ...rest } = opts\n\n      return matchRoute(rest as any, {\n        pending,\n        caseSensitive,\n      })\n    },\n    [],\n  )\n}\n\nexport type MakeMatchRouteOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n> = ToOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> &\n  MatchRouteOptions & {\n    // If a function is passed as a child, it will be given the `isActive` boolean to aid in further styling on the element it returns\n    children?:\n      | ((\n          params?: RouteByPath<\n            TRouteTree,\n            ResolveRelativePath<TFrom, NoInfer<TTo>>\n          >['types']['allParams'],\n        ) => ReactNode)\n      | React.ReactNode\n  }\n\nexport function MatchRoute<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n>(\n  props: MakeMatchRouteOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>,\n): any {\n  const matchRoute = useMatchRoute()\n  const params = matchRoute(props as any)\n\n  if (typeof props.children === 'function') {\n    return (props.children as any)(params)\n  }\n\n  return !!params ? props.children : null\n}\n\nfunction getRenderedMatches(state: RouterState) {\n  return state.pendingMatches?.some((d) => d.showPending)\n    ? state.pendingMatches\n    : state.matches\n}\n\nexport function useMatch<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RouteIds<TRouteTree> = RouteIds<TRouteTree>,\n  TStrict extends boolean = true,\n  TRouteMatchState = RouteMatch<TRouteTree, TFrom>,\n  TSelected = TRouteMatchState,\n>(\n  opts: StrictOrFrom<TFrom> & {\n    select?: (match: TRouteMatchState) => TSelected\n  },\n): TStrict extends true ? TSelected : TSelected | undefined {\n  const router = useRouter()\n  const nearestMatchId = React.useContext(matchContext)\n\n  const nearestMatchRouteId = getRenderedMatches(router.state).find(\n    (d) => d.id === nearestMatchId,\n  )?.routeId\n\n  const matchRouteId = (() => {\n    const matches = getRenderedMatches(router.state)\n    const match = opts?.from\n      ? matches.find((d) => d.routeId === opts?.from)\n      : matches.find((d) => d.id === nearestMatchId)\n    return match!.routeId\n  })()\n\n  if (opts?.strict ?? true) {\n    invariant(\n      nearestMatchRouteId == matchRouteId,\n      `useMatch(\"${\n        matchRouteId as string\n      }\") is being called in a component that is meant to render the '${nearestMatchRouteId}' route. Did you mean to 'useMatch(\"${\n        matchRouteId as string\n      }\", { strict: false })' or 'useRoute(\"${\n        matchRouteId as string\n      }\")' instead?`,\n    )\n  }\n\n  const matchSelection = useRouterState({\n    select: (state) => {\n      const match = getRenderedMatches(state).find(\n        (d) => d.id === nearestMatchId,\n      )\n\n      invariant(\n        match,\n        `Could not find ${\n          opts?.from\n            ? `an active match from \"${opts.from}\"`\n            : 'a nearest match!'\n        }`,\n      )\n\n      return opts?.select ? opts.select(match as any) : match\n    },\n  })\n\n  return matchSelection as any\n}\n\nexport function useMatches<T = RouteMatch[]>(opts?: {\n  select?: (matches: RouteMatch[]) => T\n}): T {\n  return useRouterState({\n    select: (state) => {\n      let matches = getRenderedMatches(state)\n      return opts?.select ? opts.select(matches) : (matches as T)\n    },\n  })\n}\n\nexport function useParentMatches<T = RouteMatch[]>(opts?: {\n  select?: (matches: RouteMatch[]) => T\n}): T {\n  const contextMatchId = React.useContext(matchContext)\n\n  return useMatches({\n    select: (matches) => {\n      matches = matches.slice(matches.findIndex((d) => d.id === contextMatchId))\n      return opts?.select ? opts.select(matches) : (matches as T)\n    },\n  })\n}\n\nexport function useLoaderDeps<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RouteIds<TRouteTree> = RouteIds<TRouteTree>,\n  TStrict extends boolean = true,\n  TRouteMatch extends RouteMatch<TRouteTree, TFrom> = RouteMatch<\n    TRouteTree,\n    TFrom\n  >,\n  TSelected = Required<TRouteMatch>['loaderDeps'],\n>(\n  opts: StrictOrFrom<TFrom> & {\n    select?: (match: TRouteMatch) => TSelected\n  },\n): TStrict extends true ? TSelected : TSelected | undefined {\n  return useMatch({\n    ...opts,\n    select: (s) => {\n      return typeof opts.select === 'function'\n        ? opts.select(s?.loaderDeps)\n        : s?.loaderDeps\n    },\n  })!\n}\n\nexport function useLoaderData<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RouteIds<TRouteTree> = RouteIds<TRouteTree>,\n  TStrict extends boolean = true,\n  TRouteMatch extends RouteMatch<TRouteTree, TFrom> = RouteMatch<\n    TRouteTree,\n    TFrom\n  >,\n  TSelected = Required<TRouteMatch>['loaderData'],\n>(\n  opts: StrictOrFrom<TFrom> & {\n    select?: (match: TRouteMatch) => TSelected\n  },\n): TStrict extends true ? TSelected : TSelected | undefined {\n  return useMatch({\n    ...opts,\n    select: (s) => {\n      return typeof opts.select === 'function'\n        ? opts.select(s?.loaderData)\n        : s?.loaderData\n    },\n  })!\n}\n","import * as React from 'react'\nimport warning from 'tiny-warning'\nimport { useStore } from '@tanstack/react-store'\nimport { Matches } from './Matches'\nimport { NavigateOptions, ResolveRelativePath, ToOptions } from './link'\nimport { ParsedLocation } from './location'\nimport { AnyRoute } from './route'\nimport { RouteById, RoutePaths } from './routeInfo'\nimport {\n  BuildNextOptions,\n  RegisteredRouter,\n  Router,\n  RouterOptions,\n  RouterState,\n} from './router'\nimport { NoInfer, pick, useLayoutEffect } from './utils'\nimport { MatchRouteOptions } from './Matches'\nimport { RouteMatch } from './Matches'\n\nexport interface CommitLocationOptions {\n  replace?: boolean\n  resetScroll?: boolean\n  startTransition?: boolean\n}\n\nexport interface MatchLocation {\n  to?: string | number | null\n  fuzzy?: boolean\n  caseSensitive?: boolean\n  from?: string\n}\n\nexport type NavigateFn<TRouteTree extends AnyRoute> = <\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = TFrom,\n  TMaskTo extends string = '',\n>(\n  opts: NavigateOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>,\n) => Promise<void>\n\nexport type MatchRouteFn<TRouteTree extends AnyRoute> = <\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TResolved = ResolveRelativePath<TFrom, NoInfer<TTo>>,\n>(\n  location: ToOptions<TRouteTree, TFrom, TTo>,\n  opts?: MatchRouteOptions,\n) => false | RouteById<TRouteTree, TResolved>['types']['allParams']\n\nexport type BuildLocationFn<TRouteTree extends AnyRoute> = (\n  opts: ToOptions<TRouteTree>,\n) => ParsedLocation\n\nexport type InjectedHtmlEntry = string | (() => Promise<string> | string)\n\nexport let routerContext = React.createContext<Router<any>>(null!)\n\nif (typeof document !== 'undefined') {\n  if (window.__TSR_ROUTER_CONTEXT__) {\n    routerContext = window.__TSR_ROUTER_CONTEXT__\n  } else {\n    window.__TSR_ROUTER_CONTEXT__ = routerContext as any\n  }\n}\n\nexport function RouterProvider<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TDehydrated extends Record<string, any> = Record<string, any>,\n>({ router, ...rest }: RouterProps<TRouteTree, TDehydrated>) {\n  // Allow the router to update options on the router instance\n  router.update({\n    ...router.options,\n    ...rest,\n    context: {\n      ...router.options.context,\n      ...rest?.context,\n    },\n  } as any)\n\n  const matches = router.options.InnerWrap ? (\n    <router.options.InnerWrap>\n      <Matches />\n    </router.options.InnerWrap>\n  ) : (\n    <Matches />\n  )\n\n  const provider = (\n    <routerContext.Provider value={router}>\n      {matches}\n      <Transitioner />\n    </routerContext.Provider>\n  )\n\n  if (router.options.Wrap) {\n    return <router.options.Wrap>{provider}</router.options.Wrap>\n  }\n\n  return provider\n}\n\nfunction Transitioner() {\n  const router = useRouter()\n  const routerState = useRouterState({\n    select: (s) =>\n      pick(s, ['isLoading', 'location', 'resolvedLocation', 'isTransitioning']),\n  })\n\n  const [isTransitioning, startReactTransition] = React.useTransition()\n\n  router.startReactTransition = startReactTransition\n\n  React.useEffect(() => {\n    if (isTransitioning) {\n      router.__store.setState((s) => ({\n        ...s,\n        isTransitioning,\n      }))\n    }\n  }, [isTransitioning])\n\n  const tryLoad = () => {\n    const apply = (cb: () => void) => {\n      if (!routerState.isTransitioning) {\n        startReactTransition(() => cb())\n      } else {\n        cb()\n      }\n    }\n\n    apply(() => {\n      try {\n        router.load()\n      } catch (err) {\n        console.error(err)\n      }\n    })\n  }\n\n  useLayoutEffect(() => {\n    const unsub = router.history.subscribe(() => {\n      router.latestLocation = router.parseLocation(router.latestLocation)\n      if (routerState.location !== router.latestLocation) {\n        tryLoad()\n      }\n    })\n\n    const nextLocation = router.buildLocation({\n      search: true,\n      params: true,\n      hash: true,\n      state: true,\n    })\n\n    if (routerState.location.href !== nextLocation.href) {\n      router.commitLocation({ ...nextLocation, replace: true })\n    }\n\n    return () => {\n      unsub()\n    }\n  }, [router.history])\n\n  useLayoutEffect(() => {\n    if (\n      routerState.isTransitioning &&\n      !isTransitioning &&\n      !routerState.isLoading &&\n      routerState.resolvedLocation !== routerState.location\n    ) {\n      router.emit({\n        type: 'onResolved',\n        fromLocation: routerState.resolvedLocation,\n        toLocation: routerState.location,\n        pathChanged:\n          routerState.location!.href !== routerState.resolvedLocation?.href,\n      })\n\n      if ((document as any).querySelector) {\n        if (routerState.location.hash !== '') {\n          const el = document.getElementById(\n            routerState.location.hash,\n          ) as HTMLElement | null\n          if (el) {\n            el.scrollIntoView()\n          }\n        }\n      }\n\n      router.__store.setState((s) => ({\n        ...s,\n        isTransitioning: false,\n        resolvedLocation: s.location,\n      }))\n    }\n  }, [\n    routerState.isTransitioning,\n    isTransitioning,\n    routerState.isLoading,\n    routerState.resolvedLocation,\n    routerState.location,\n  ])\n\n  useLayoutEffect(() => {\n    if (!window.__TSR_DEHYDRATED__) {\n      tryLoad()\n    }\n  }, [])\n\n  return null\n}\n\nexport function getRouteMatch<TRouteTree extends AnyRoute>(\n  state: RouterState<TRouteTree>,\n  id: string,\n): undefined | RouteMatch<TRouteTree> {\n  return [\n    ...state.cachedMatches,\n    ...(state.pendingMatches ?? []),\n    ...state.matches,\n  ].find((d) => d.id === id)\n}\n\nexport function useRouterState<\n  TSelected = RouterState<RegisteredRouter['routeTree']>,\n>(opts?: {\n  select: (state: RouterState<RegisteredRouter['routeTree']>) => TSelected\n}): TSelected {\n  const router = useRouter()\n  return useStore(router.__store, opts?.select as any)\n}\n\nexport type RouterProps<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TDehydrated extends Record<string, any> = Record<string, any>,\n> = Omit<RouterOptions<TRouteTree, TDehydrated>, 'context'> & {\n  router: Router<TRouteTree>\n  context?: Partial<RouterOptions<TRouteTree, TDehydrated>['context']>\n}\n\nexport function useRouter<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n>(): Router<TRouteTree> {\n  const resolvedContext =\n    typeof document !== 'undefined'\n      ? window.__TSR_ROUTER_CONTEXT__ || routerContext\n      : routerContext\n  const value = React.useContext(resolvedContext)\n  warning(value, 'useRouter must be used inside a <RouterProvider> component!')\n  return value as any\n}\n","export type DeferredPromiseState<T> = { uid: string } & (\n  | {\n      status: 'pending'\n      data?: T\n      error?: unknown\n    }\n  | {\n      status: 'success'\n      data: T\n    }\n  | {\n      status: 'error'\n      data?: T\n      error: unknown\n    }\n)\n\nexport type DeferredPromise<T> = Promise<T> & {\n  __deferredState: DeferredPromiseState<T>\n}\n\nexport function defer<T>(_promise: Promise<T>) {\n  const promise = _promise as DeferredPromise<T>\n\n  if (!promise.__deferredState) {\n    promise.__deferredState = {\n      uid: Math.random().toString(36).slice(2),\n      status: 'pending',\n    }\n\n    const state = promise.__deferredState\n\n    promise\n      .then((data) => {\n        state.status = 'success' as any\n        state.data = data\n      })\n      .catch((error) => {\n        state.status = 'error' as any\n        state.error = error\n      })\n  }\n\n  return promise\n}\n\nexport function isDehydratedDeferred(obj: any): boolean {\n  return (\n    typeof obj === 'object' &&\n    obj !== null &&\n    !(obj instanceof Promise) &&\n    !obj.then &&\n    '__deferredState' in obj\n  )\n}\n","import { useRouter } from './RouterProvider'\nimport { DeferredPromise, isDehydratedDeferred } from './defer'\n\nexport type AwaitOptions<T> = {\n  promise: DeferredPromise<T>\n}\n\nexport function useAwaited<T>({ promise }: AwaitOptions<T>): [T] {\n  const router = useRouter()\n\n  let state = promise.__deferredState\n  const key = `__TSR__DEFERRED__${state.uid}`\n\n  if (isDehydratedDeferred(promise)) {\n    state = router.hydrateData(key)!\n    promise = Promise.resolve(state.data) as DeferredPromise<any>\n    promise.__deferredState = state\n  }\n\n  if (state.status === 'pending') {\n    throw new Promise((r) => setTimeout(r, 1)).then(() => promise)\n  }\n\n  if (state.status === 'error') {\n    throw state.error\n  }\n\n  router.dehydrateData(key, state)\n\n  return [state.data]\n}\n\nexport function Await<T>(\n  props: AwaitOptions<T> & {\n    children: (result: T) => JSX.Element\n  },\n) {\n  const awaited = useAwaited(props)\n  return props.children(...awaited)\n}\n","import { MatchLocation } from './RouterProvider'\nimport { AnyPathParams } from './route'\nimport { last } from './utils'\n\nexport interface Segment {\n  type: 'pathname' | 'param' | 'wildcard'\n  value: string\n}\n\nexport function joinPaths(paths: (string | undefined)[]) {\n  return cleanPath(paths.filter(Boolean).join('/'))\n}\n\nexport function cleanPath(path: string) {\n  // remove double slashes\n  return path.replace(/\\/{2,}/g, '/')\n}\n\nexport function trimPathLeft(path: string) {\n  return path === '/' ? path : path.replace(/^\\/{1,}/, '')\n}\n\nexport function trimPathRight(path: string) {\n  return path === '/' ? path : path.replace(/\\/{1,}$/, '')\n}\n\nexport function trimPath(path: string) {\n  return trimPathRight(trimPathLeft(path))\n}\n\nexport function resolvePath(basepath: string, base: string, to: string) {\n  base = base.replace(new RegExp(`^${basepath}`), '/')\n  to = to.replace(new RegExp(`^${basepath}`), '/')\n\n  let baseSegments = parsePathname(base)\n  const toSegments = parsePathname(to)\n\n  toSegments.forEach((toSegment, index) => {\n    if (toSegment.value === '/') {\n      if (!index) {\n        // Leading slash\n        baseSegments = [toSegment]\n      } else if (index === toSegments.length - 1) {\n        // Trailing Slash\n        baseSegments.push(toSegment)\n      } else {\n        // ignore inter-slashes\n      }\n    } else if (toSegment.value === '..') {\n      // Extra trailing slash? pop it off\n      if (baseSegments.length > 1 && last(baseSegments)?.value === '/') {\n        baseSegments.pop()\n      }\n      baseSegments.pop()\n    } else if (toSegment.value === '.') {\n      return\n    } else {\n      baseSegments.push(toSegment)\n    }\n  })\n\n  const joined = joinPaths([basepath, ...baseSegments.map((d) => d.value)])\n\n  return cleanPath(joined)\n}\n\nexport function parsePathname(pathname?: string): Segment[] {\n  if (!pathname) {\n    return []\n  }\n\n  pathname = cleanPath(pathname)\n\n  const segments: Segment[] = []\n\n  if (pathname.slice(0, 1) === '/') {\n    pathname = pathname.substring(1)\n    segments.push({\n      type: 'pathname',\n      value: '/',\n    })\n  }\n\n  if (!pathname) {\n    return segments\n  }\n\n  // Remove empty segments and '.' segments\n  const split = pathname.split('/').filter(Boolean)\n\n  segments.push(\n    ...split.map((part): Segment => {\n      if (part === '$' || part === '*') {\n        return {\n          type: 'wildcard',\n          value: part,\n        }\n      }\n\n      if (part.charAt(0) === '$') {\n        return {\n          type: 'param',\n          value: part,\n        }\n      }\n\n      return {\n        type: 'pathname',\n        value: part,\n      }\n    }),\n  )\n\n  if (pathname.slice(-1) === '/') {\n    pathname = pathname.substring(1)\n    segments.push({\n      type: 'pathname',\n      value: '/',\n    })\n  }\n\n  return segments\n}\n\nexport function interpolatePath(\n  path: string | undefined,\n  params: any,\n  leaveWildcards: boolean = false,\n) {\n  const interpolatedPathSegments = parsePathname(path)\n\n  return joinPaths(\n    interpolatedPathSegments.map((segment) => {\n      if (segment.type === 'wildcard') {\n        const value = params[segment.value]\n        if (leaveWildcards) return `${segment.value}${value ?? ''}`\n        return value\n      }\n\n      if (segment.type === 'param') {\n        return params![segment.value.substring(1)] ?? 'undefined'\n      }\n\n      return segment.value\n    }),\n  )\n}\n\nexport function matchPathname(\n  basepath: string,\n  currentPathname: string,\n  matchLocation: Pick<MatchLocation, 'to' | 'fuzzy' | 'caseSensitive'>,\n): AnyPathParams | undefined {\n  const pathParams = matchByPath(basepath, currentPathname, matchLocation)\n  // const searchMatched = matchBySearch(location.search, matchLocation)\n\n  if (matchLocation.to && !pathParams) {\n    return\n  }\n\n  return pathParams ?? {}\n}\n\nexport function removeBasepath(basepath: string, pathname: string) {\n  return basepath != '/' ? pathname.substring(basepath.length) : pathname\n}\n\nexport function matchByPath(\n  basepath: string,\n  from: string,\n  matchLocation: Pick<MatchLocation, 'to' | 'caseSensitive' | 'fuzzy'>,\n): Record<string, string> | undefined {\n  // Remove the base path from the pathname\n  from = removeBasepath(basepath, from)\n  // Default to to $ (wildcard)\n  const to = `${matchLocation.to ?? '$'}`\n  // Parse the from and to\n  const baseSegments = parsePathname(from)\n  const routeSegments = parsePathname(to)\n\n  if (!from.startsWith('/')) {\n    baseSegments.unshift({\n      type: 'pathname',\n      value: '/',\n    })\n  }\n\n  if (!to.startsWith('/')) {\n    routeSegments.unshift({\n      type: 'pathname',\n      value: '/',\n    })\n  }\n\n  const params: Record<string, string> = {}\n\n  let isMatch = (() => {\n    for (\n      let i = 0;\n      i < Math.max(baseSegments.length, routeSegments.length);\n      i++\n    ) {\n      const baseSegment = baseSegments[i]\n      const routeSegment = routeSegments[i]\n\n      const isLastBaseSegment = i >= baseSegments.length - 1\n      const isLastRouteSegment = i >= routeSegments.length - 1\n\n      if (routeSegment) {\n        if (routeSegment.type === 'wildcard') {\n          if (baseSegment?.value) {\n            params['*'] = joinPaths(baseSegments.slice(i).map((d) => d.value))\n            return true\n          }\n          return false\n        }\n\n        if (routeSegment.type === 'pathname') {\n          if (routeSegment.value === '/' && !baseSegment?.value) {\n            return true\n          }\n\n          if (baseSegment) {\n            if (matchLocation.caseSensitive) {\n              if (routeSegment.value !== baseSegment.value) {\n                return false\n              }\n            } else if (\n              routeSegment.value.toLowerCase() !==\n              baseSegment.value.toLowerCase()\n            ) {\n              return false\n            }\n          }\n        }\n\n        if (!baseSegment) {\n          return false\n        }\n\n        if (routeSegment.type === 'param') {\n          if (baseSegment?.value === '/') {\n            return false\n          }\n          if (baseSegment.value.charAt(0) !== '$') {\n            params[routeSegment.value.substring(1)] = baseSegment.value\n          }\n        }\n      }\n\n      if (!isLastBaseSegment && isLastRouteSegment) {\n        params['**'] = joinPaths(baseSegments.slice(i + 1).map((d) => d.value))\n        return !!matchLocation.fuzzy && routeSegment?.value !== '/'\n      }\n    }\n\n    return true\n  })()\n\n  return isMatch ? (params as Record<string, string>) : undefined\n}\n","import { AnyRoute } from './route'\nimport { RouteIds, RouteById, AllParams } from './routeInfo'\nimport { RegisteredRouter } from './router'\nimport { last } from './utils'\nimport { useRouterState } from './RouterProvider'\nimport { StrictOrFrom } from './utils'\n\nexport function useParams<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RouteIds<TRouteTree> = RouteIds<TRouteTree>,\n  TDefaultSelected = AllParams<TRouteTree> &\n    RouteById<TRouteTree, TFrom>['types']['allParams'],\n  TSelected = TDefaultSelected,\n>(\n  opts: StrictOrFrom<TFrom> & {\n    select?: (search: TDefaultSelected) => TSelected\n  },\n): TSelected {\n  return useRouterState({\n    select: (state: any) => {\n      const params = (last(state.matches) as any)?.params\n      return opts?.select ? opts.select(params) : params\n    },\n  })\n}\n","import { AnyRoute } from './route'\nimport { RouteIds, RouteById } from './routeInfo'\nimport { RegisteredRouter } from './router'\nimport { RouteMatch } from './Matches'\nimport { useMatch } from './Matches'\nimport { StrictOrFrom } from './utils'\n\nexport function useSearch<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RouteIds<TRouteTree> = RouteIds<TRouteTree>,\n  TStrict extends boolean = true,\n  TSearch = RouteById<TRouteTree, TFrom>['types']['fullSearchSchema'],\n  TSelected = TSearch,\n>(\n  opts: StrictOrFrom<TFrom> & {\n    select?: (search: TSearch) => TSelected\n  },\n): TStrict extends true ? TSelected : TSelected | undefined {\n  return useMatch({\n    ...(opts as any),\n    select: (match: RouteMatch) => {\n      return opts?.select ? opts.select(match.search as TSearch) : match.search\n    },\n  })\n}\n","import * as React from 'react'\nimport invariant from 'tiny-invariant'\nimport { useLoaderData, useLoaderDeps, useMatch } from './Matches'\nimport { AnyRouteMatch } from './Matches'\nimport { NavigateOptions, ParsePathParams, ToSubOptions } from './link'\nimport { ParsedLocation } from './location'\nimport { joinPaths, trimPath } from './path'\nimport { RouteById, RouteIds, RoutePaths } from './routeInfo'\nimport { AnyRouter, RegisteredRouter } from './router'\nimport { useParams } from './useParams'\nimport { useSearch } from './useSearch'\nimport {\n  Assign,\n  Expand,\n  IsAny,\n  NoInfer,\n  PickRequired,\n  UnionToIntersection,\n} from './utils'\nimport { BuildLocationFn, NavigateFn } from './RouterProvider'\n\nexport const rootRouteId = '__root__' as const\nexport type RootRouteId = typeof rootRouteId\nexport type AnyPathParams = {}\n\nexport type AnySearchSchema = {}\n\nexport type AnyContext = {}\n\nexport interface RouteContext {}\n\nexport interface RouteMeta {}\n\nexport type PreloadableObj = { preload?: () => Promise<void> }\n\nexport type RoutePathOptions<TCustomId, TPath> =\n  | {\n      path: TPath\n    }\n  | {\n      id: TCustomId\n    }\n\nexport type RoutePathOptionsIntersection<TCustomId, TPath> =\n  UnionToIntersection<RoutePathOptions<TCustomId, TPath>>\n\nexport type MetaOptions = keyof PickRequired<RouteMeta> extends never\n  ? {\n      meta?: RouteMeta\n    }\n  : {\n      meta: RouteMeta\n    }\n\nexport type RouteOptions<\n  TParentRoute extends AnyRoute = AnyRoute,\n  TCustomId extends string = string,\n  TPath extends string = string,\n  TSearchSchema extends Record<string, any> = {},\n  TFullSearchSchema extends Record<string, any> = TSearchSchema,\n  TParams extends AnyPathParams = AnyPathParams,\n  TAllParams extends AnyPathParams = TParams,\n  TRouteContext extends RouteContext = RouteContext,\n  TAllContext extends Record<string, any> = AnyContext,\n  TLoaderDeps extends Record<string, any> = {},\n  TLoaderData extends any = unknown,\n> = BaseRouteOptions<\n  TParentRoute,\n  TCustomId,\n  TPath,\n  TSearchSchema,\n  TFullSearchSchema,\n  TParams,\n  TAllParams,\n  TRouteContext,\n  TAllContext,\n  TLoaderDeps,\n  TLoaderData\n> &\n  UpdatableRouteOptions<NoInfer<TFullSearchSchema>>\n\nexport type ParamsFallback<\n  TPath extends string,\n  TParams,\n> = unknown extends TParams ? Record<ParsePathParams<TPath>, string> : TParams\n\nexport type BaseRouteOptions<\n  TParentRoute extends AnyRoute = AnyRoute,\n  TCustomId extends string = string,\n  TPath extends string = string,\n  TSearchSchema extends Record<string, any> = {},\n  TFullSearchSchema extends Record<string, any> = TSearchSchema,\n  TParams extends AnyPathParams = {},\n  TAllParams = ParamsFallback<TPath, TParams>,\n  TRouteContext extends RouteContext = RouteContext,\n  TAllContext extends Record<string, any> = AnyContext,\n  TLoaderDeps extends Record<string, any> = {},\n  TLoaderData extends any = unknown,\n> = RoutePathOptions<TCustomId, TPath> & {\n  getParentRoute: () => TParentRoute\n  validateSearch?: SearchSchemaValidator<TSearchSchema>\n  shouldReload?:\n    | boolean\n    | ((\n        match: LoaderFnContext<\n          TAllParams,\n          TFullSearchSchema,\n          TAllContext,\n          TRouteContext\n        >,\n      ) => any)\n} & (keyof PickRequired<RouteContext> extends never\n    ? // This async function is called before a route is loaded.\n      // If an error is thrown here, the route's loader will not be called.\n      // If thrown during a navigation, the navigation will be cancelled and the error will be passed to the `onError` function.\n      // If thrown during a preload event, the error will be logged to the console.\n      {\n        beforeLoad?: BeforeLoadFn<\n          TFullSearchSchema,\n          TParentRoute,\n          TAllParams,\n          TRouteContext\n        >\n      }\n    : {\n        beforeLoad: BeforeLoadFn<\n          TFullSearchSchema,\n          TParentRoute,\n          TAllParams,\n          TRouteContext\n        >\n      }) & {\n    loaderDeps?: (opts: { search: TFullSearchSchema }) => TLoaderDeps\n    loader?: RouteLoaderFn<\n      TAllParams,\n      NoInfer<TLoaderDeps>,\n      NoInfer<TAllContext>,\n      NoInfer<TRouteContext>,\n      TLoaderData\n    >\n  } & (\n    | {\n        // Both or none\n        parseParams?: (\n          rawParams: IsAny<TPath, any, Record<ParsePathParams<TPath>, string>>,\n        ) => TParams extends Record<ParsePathParams<TPath>, any>\n          ? TParams\n          : 'parseParams must return an object'\n        stringifyParams?: (\n          params: NoInfer<ParamsFallback<TPath, TParams>>,\n        ) => Record<ParsePathParams<TPath>, string>\n      }\n    | {\n        stringifyParams?: never\n        parseParams?: never\n      }\n  )\n\ntype BeforeLoadFn<\n  TFullSearchSchema extends Record<string, any>,\n  TParentRoute extends AnyRoute,\n  TAllParams,\n  TRouteContext,\n> = (opts: {\n  search: TFullSearchSchema\n  abortController: AbortController\n  preload: boolean\n  params: TAllParams\n  context: TParentRoute['types']['allContext']\n  location: ParsedLocation\n  navigate: NavigateFn<AnyRoute>\n  buildLocation: BuildLocationFn<TParentRoute>\n  cause: 'preload' | 'enter' | 'stay'\n}) => Promise<TRouteContext> | TRouteContext | void\n\nexport type UpdatableRouteOptions<\n  TFullSearchSchema extends Record<string, any>,\n> = MetaOptions & {\n  // test?: (args: TAllContext) => void\n  // If true, this route will be matched as case-sensitive\n  caseSensitive?: boolean\n  // If true, this route will be forcefully wrapped in a suspense boundary\n  wrapInSuspense?: boolean\n  // The content to be rendered when the route is matched. If no component is provided, defaults to `<Outlet />`\n  component?: RouteComponent\n  errorComponent?: false | null | ErrorRouteComponent\n  pendingComponent?: RouteComponent\n  pendingMs?: number\n  pendingMinMs?: number\n  staleTime?: number\n  gcTime?: number\n  preloadStaleTime?: number\n  preloadGcTime?: number\n  // Filter functions that can manipulate search params *before* they are passed to links and navigate\n  // calls that match this route.\n  preSearchFilters?: SearchFilter<TFullSearchSchema>[]\n  // Filter functions that can manipulate search params *after* they are passed to links and navigate\n  // calls that match this route.\n  postSearchFilters?: SearchFilter<TFullSearchSchema>[]\n  onError?: (err: any) => void\n  // These functions are called as route matches are loaded, stick around and leave the active\n  // matches\n  onEnter?: (match: AnyRouteMatch) => void\n  onStay?: (match: AnyRouteMatch) => void\n  onLeave?: (match: AnyRouteMatch) => void\n}\n\nexport type ParseParamsOption<TPath extends string, TParams> = ParseParamsFn<\n  TPath,\n  TParams\n>\n\nexport type ParseParamsFn<TPath extends string, TParams> = (\n  rawParams: IsAny<TPath, any, Record<ParsePathParams<TPath>, string>>,\n) => TParams extends Record<ParsePathParams<TPath>, any>\n  ? TParams\n  : 'parseParams must return an object'\n\nexport type ParseParamsObj<TPath extends string, TParams> = {\n  parse?: ParseParamsFn<TPath, TParams>\n}\n\n// The parse type here allows a zod schema to be passed directly to the validator\nexport type SearchSchemaValidator<TReturn> =\n  | SearchSchemaValidatorObj<TReturn>\n  | SearchSchemaValidatorFn<TReturn>\n\nexport type SearchSchemaValidatorObj<TReturn> = {\n  parse?: SearchSchemaValidatorFn<TReturn>\n}\n\nexport type SearchSchemaValidatorFn<TReturn> = (\n  searchObj: Record<string, unknown>,\n) => TReturn\n\nexport type DefinedPathParamWarning =\n  'Path params cannot be redefined by child routes!'\n\nexport type ParentParams<TParentParams> = AnyPathParams extends TParentParams\n  ? {}\n  : {\n      [Key in keyof TParentParams]?: DefinedPathParamWarning\n    }\n\nexport type RouteLoaderFn<\n  TAllParams = {},\n  TLoaderDeps extends Record<string, any> = {},\n  TAllContext extends Record<string, any> = AnyContext,\n  TRouteContext extends Record<string, any> = AnyContext,\n  TLoaderData extends any = unknown,\n> = (\n  match: LoaderFnContext<TAllParams, TLoaderDeps, TAllContext, TRouteContext>,\n) => Promise<TLoaderData> | TLoaderData\n\nexport interface LoaderFnContext<\n  TAllParams = {},\n  TLoaderDeps extends Record<string, any> = {},\n  TAllContext extends Record<string, any> = AnyContext,\n  TRouteContext extends Record<string, any> = AnyContext,\n> {\n  abortController: AbortController\n  preload: boolean\n  params: TAllParams\n  deps: TLoaderDeps\n  context: Expand<Assign<TAllContext, TRouteContext>>\n  location: ParsedLocation // Do not supply search schema here so as to demotivate people from trying to shortcut loaderDeps\n  navigate: (opts: NavigateOptions<AnyRoute>) => Promise<void>\n  parentMatchPromise?: Promise<void>\n  cause: 'preload' | 'enter' | 'stay'\n}\n\nexport type SearchFilter<T, U = T> = (prev: T) => U\n\nexport type ResolveId<\n  TParentRoute,\n  TCustomId extends string,\n  TPath extends string,\n> = TParentRoute extends { id: infer TParentId extends string }\n  ? RoutePrefix<TParentId, string extends TCustomId ? TPath : TCustomId>\n  : RootRouteId\n\nexport type InferFullSearchSchema<TRoute> = TRoute extends {\n  types: {\n    fullSearchSchema: infer TFullSearchSchema\n  }\n}\n  ? TFullSearchSchema\n  : {}\n\nexport type ResolveFullSearchSchema<TParentRoute, TSearchSchema> = Expand<\n  Assign<InferFullSearchSchema<TParentRoute>, TSearchSchema>\n>\n\nexport interface AnyRoute\n  extends Route<\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any,\n    any\n  > {}\n\nexport type MergeFromFromParent<T, U> = IsAny<T, U, T & U>\n\nexport type ResolveAllParams<\n  TParentRoute extends AnyRoute,\n  TParams extends AnyPathParams,\n> = Record<never, string> extends TParentRoute['types']['allParams']\n  ? TParams\n  : Expand<\n      UnionToIntersection<TParentRoute['types']['allParams'] & TParams> & {}\n    >\n\nexport type RouteConstraints = {\n  TParentRoute: AnyRoute\n  TPath: string\n  TFullPath: string\n  TCustomId: string\n  TId: string\n  TSearchSchema: AnySearchSchema\n  TFullSearchSchema: AnySearchSchema\n  TParams: Record<string, any>\n  TAllParams: Record<string, any>\n  TParentContext: AnyContext\n  TRouteContext: RouteContext\n  TAllContext: AnyContext\n  TRouterContext: AnyContext\n  TChildren: unknown\n  TRouteTree: AnyRoute\n}\n\nexport class RouteApi<\n  TId extends RouteIds<RegisteredRouter['routeTree']>,\n  TRoute extends AnyRoute = RouteById<RegisteredRouter['routeTree'], TId>,\n  TFullSearchSchema extends Record<\n    string,\n    any\n  > = TRoute['types']['fullSearchSchema'],\n  TAllParams extends AnyPathParams = TRoute['types']['allParams'],\n  TAllContext extends Record<string, any> = TRoute['types']['allContext'],\n  TLoaderDeps extends Record<string, any> = TRoute['types']['loaderDeps'],\n  TLoaderData extends any = TRoute['types']['loaderData'],\n> {\n  id: TId\n\n  constructor({ id }: { id: TId }) {\n    this.id = id as any\n  }\n\n  useMatch = <TSelected = TAllContext>(opts?: {\n    select?: (s: TAllContext) => TSelected\n  }): TSelected => {\n    return useMatch({ ...opts, from: this.id }) as any\n  }\n\n  useRouteContext = <TSelected = TAllContext>(opts?: {\n    select?: (s: TAllContext) => TSelected\n  }): TSelected => {\n    return useMatch({\n      ...opts,\n      from: this.id,\n      select: (d: any) => (opts?.select ? opts.select(d.context) : d.context),\n    } as any)\n  }\n\n  useSearch = <TSelected = TFullSearchSchema>(opts?: {\n    select?: (s: TFullSearchSchema) => TSelected\n  }): TSelected => {\n    return useSearch({ ...opts, from: this.id } as any)\n  }\n\n  useParams = <TSelected = TAllParams>(opts?: {\n    select?: (s: TAllParams) => TSelected\n  }): TSelected => {\n    return useParams({ ...opts, from: this.id } as any)\n  }\n\n  useLoaderDeps = <TSelected = TLoaderDeps>(opts?: {\n    select?: (s: TLoaderDeps) => TSelected\n  }): TSelected => {\n    return useLoaderDeps({ ...opts, from: this.id } as any) as any\n  }\n\n  useLoaderData = <TSelected = TLoaderData>(opts?: {\n    select?: (s: TLoaderData) => TSelected\n  }): TSelected => {\n    return useLoaderData({ ...opts, from: this.id } as any) as any\n  }\n}\n\nexport class Route<\n  TParentRoute extends RouteConstraints['TParentRoute'] = AnyRoute,\n  TPath extends RouteConstraints['TPath'] = '/',\n  TFullPath extends RouteConstraints['TFullPath'] = ResolveFullPath<\n    TParentRoute,\n    TPath\n  >,\n  TCustomId extends RouteConstraints['TCustomId'] = string,\n  TId extends RouteConstraints['TId'] = ResolveId<\n    TParentRoute,\n    TCustomId,\n    TPath\n  >,\n  TSearchSchema extends RouteConstraints['TSearchSchema'] = {},\n  TFullSearchSchema extends\n    RouteConstraints['TFullSearchSchema'] = ResolveFullSearchSchema<\n    TParentRoute,\n    TSearchSchema\n  >,\n  TParams extends RouteConstraints['TParams'] = Expand<\n    Record<ParsePathParams<TPath>, string>\n  >,\n  TAllParams extends RouteConstraints['TAllParams'] = ResolveAllParams<\n    TParentRoute,\n    TParams\n  >,\n  TRouteContext extends RouteConstraints['TRouteContext'] = RouteContext,\n  TAllContext extends Expand<\n    Assign<IsAny<TParentRoute['types']['allContext'], {}>, TRouteContext>\n  > = Expand<\n    Assign<IsAny<TParentRoute['types']['allContext'], {}>, TRouteContext>\n  >,\n  TRouterContext extends RouteConstraints['TRouterContext'] = AnyContext,\n  TLoaderDeps extends Record<string, any> = {},\n  TLoaderData extends any = unknown,\n  TChildren extends RouteConstraints['TChildren'] = unknown,\n  TRouteTree extends RouteConstraints['TRouteTree'] = AnyRoute,\n> {\n  isRoot: TParentRoute extends Route<any> ? true : false\n  options: RouteOptions<\n    TParentRoute,\n    TCustomId,\n    TPath,\n    TSearchSchema,\n    TFullSearchSchema,\n    TParams,\n    TAllParams,\n    TRouteContext,\n    TAllContext,\n    TLoaderDeps,\n    TLoaderData\n  >\n\n  test!: Expand<\n    Assign<IsAny<TParentRoute['types']['allContext'], {}>, TRouteContext>\n  >\n\n  // Set up in this.init()\n  parentRoute!: TParentRoute\n  id!: TId\n  // customId!: TCustomId\n  path!: TPath\n  fullPath!: TFullPath\n  to!: TrimPathRight<TFullPath>\n\n  // Optional\n  children?: TChildren\n  originalIndex?: number\n  router?: AnyRouter\n  rank!: number\n\n  constructor(\n    options: RouteOptions<\n      TParentRoute,\n      TCustomId,\n      TPath,\n      TSearchSchema,\n      TFullSearchSchema,\n      TParams,\n      TAllParams,\n      TRouteContext,\n      TAllContext,\n      TLoaderDeps,\n      TLoaderData\n    >,\n  ) {\n    this.options = (options as any) || {}\n    this.isRoot = !options?.getParentRoute as any\n    invariant(\n      !((options as any)?.id && (options as any)?.path),\n      `Route cannot have both an 'id' and a 'path' option.`,\n    )\n    ;(this as any).$$typeof = Symbol.for('react.memo')\n  }\n\n  types!: {\n    parentRoute: TParentRoute\n    path: TPath\n    to: TrimPathRight<TFullPath>\n    fullPath: TFullPath\n    customId: TCustomId\n    id: TId\n    searchSchema: TSearchSchema\n    fullSearchSchema: TFullSearchSchema\n    params: TParams\n    allParams: TAllParams\n    routeContext: TRouteContext\n    allContext: TAllContext\n    children: TChildren\n    routeTree: TRouteTree\n    routerContext: TRouterContext\n    loaderData: TLoaderData\n    loaderDeps: TLoaderDeps\n  }\n\n  init = (opts: { originalIndex: number }) => {\n    this.originalIndex = opts.originalIndex\n\n    const options = this.options as RouteOptions<\n      TParentRoute,\n      TCustomId,\n      TPath,\n      TSearchSchema,\n      TFullSearchSchema,\n      TParams,\n      TAllParams,\n      TRouteContext,\n      TAllContext,\n      TLoaderDeps,\n      TLoaderData\n    > &\n      RoutePathOptionsIntersection<TCustomId, TPath>\n\n    const isRoot = !options?.path && !options?.id\n\n    this.parentRoute = this.options?.getParentRoute?.()\n\n    if (isRoot) {\n      this.path = rootRouteId as TPath\n    } else {\n      invariant(\n        this.parentRoute,\n        `Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.`,\n      )\n    }\n\n    let path: undefined | string = isRoot ? rootRouteId : options.path\n\n    // If the path is anything other than an index path, trim it up\n    if (path && path !== '/') {\n      path = trimPath(path)\n    }\n\n    const customId = options?.id || path\n\n    // Strip the parentId prefix from the first level of children\n    let id = isRoot\n      ? rootRouteId\n      : joinPaths([\n          (this.parentRoute.id as any) === rootRouteId\n            ? ''\n            : this.parentRoute.id,\n          customId,\n        ])\n\n    if (path === rootRouteId) {\n      path = '/'\n    }\n\n    if (id !== rootRouteId) {\n      id = joinPaths(['/', id])\n    }\n\n    const fullPath =\n      id === rootRouteId ? '/' : joinPaths([this.parentRoute.fullPath, path])\n\n    this.path = path as TPath\n    this.id = id as TId\n    // this.customId = customId as TCustomId\n    this.fullPath = fullPath as TFullPath\n    this.to = fullPath as TrimPathRight<TFullPath>\n  }\n\n  addChildren = <TNewChildren extends AnyRoute[]>(\n    children: TNewChildren,\n  ): Route<\n    TParentRoute,\n    TPath,\n    TFullPath,\n    TCustomId,\n    TId,\n    TSearchSchema,\n    TFullSearchSchema,\n    TParams,\n    TAllParams,\n    TRouteContext,\n    TAllContext,\n    TRouterContext,\n    TLoaderDeps,\n    TLoaderData,\n    TNewChildren,\n    TRouteTree\n  > => {\n    this.children = children as any\n    return this as any\n  }\n\n  update = (options: UpdatableRouteOptions<TFullSearchSchema>) => {\n    Object.assign(this.options, options)\n    return this\n  }\n\n  useMatch = <TSelected = TAllContext>(opts?: {\n    select?: (search: TAllContext) => TSelected\n  }): TSelected => {\n    return useMatch({ ...opts, from: this.id }) as any\n  }\n\n  useRouteContext = <TSelected = TAllContext>(opts?: {\n    select?: (search: TAllContext) => TSelected\n  }): TSelected => {\n    return useMatch({\n      ...opts,\n      from: this.id,\n      select: (d: any) => (opts?.select ? opts.select(d.context) : d.context),\n    } as any)\n  }\n\n  useSearch = <TSelected = TFullSearchSchema>(opts?: {\n    select?: (search: TFullSearchSchema) => TSelected\n  }): TSelected => {\n    return useSearch({ ...opts, from: this.id } as any)\n  }\n\n  useParams = <TSelected = TAllParams>(opts?: {\n    select?: (search: TAllParams) => TSelected\n  }): TSelected => {\n    return useParams({ ...opts, from: this.id } as any)\n  }\n\n  useLoaderDeps = <TSelected = TLoaderDeps>(opts?: {\n    select?: (s: TLoaderDeps) => TSelected\n  }): TSelected => {\n    return useLoaderDeps({ ...opts, from: this.id } as any) as any\n  }\n\n  useLoaderData = <TSelected = TLoaderData>(opts?: {\n    select?: (search: TLoaderData) => TSelected\n  }): TSelected => {\n    return useLoaderData({ ...opts, from: this.id } as any) as any\n  }\n}\n\nexport type AnyRootRoute = RootRoute<any, any, any, any>\n\nexport function rootRouteWithContext<TRouterContext extends {}>() {\n  return <\n    TSearchSchema extends Record<string, any> = {},\n    TRouteContext extends RouteContext = RouteContext,\n    TLoaderDeps extends Record<string, any> = {},\n    TLoaderData extends any = unknown,\n  >(\n    options?: Omit<\n      RouteOptions<\n        AnyRoute, // TParentRoute\n        RootRouteId, // TCustomId\n        '', // TPath\n        TSearchSchema, // TSearchSchema\n        TSearchSchema, // TFullSearchSchema\n        {}, // TParams\n        {}, // TAllParams\n        TRouteContext, // TRouteContext\n        Assign<TRouterContext, TRouteContext>, // TAllContext\n        TLoaderDeps,\n        TLoaderData // TLoaderData,\n      >,\n      | 'path'\n      | 'id'\n      | 'getParentRoute'\n      | 'caseSensitive'\n      | 'parseParams'\n      | 'stringifyParams'\n    >,\n  ): RootRoute<TSearchSchema, TRouteContext, TRouterContext> => {\n    return new RootRoute(options) as any\n  }\n}\n\nexport class RootRoute<\n  TSearchSchema extends Record<string, any> = {},\n  TRouteContext extends RouteContext = RouteContext,\n  TRouterContext extends {} = {},\n  TLoaderDeps extends Record<string, any> = {},\n  TLoaderData extends any = unknown,\n> extends Route<\n  any, // TParentRoute\n  '/', // TPath\n  '/', // TFullPath\n  string, // TCustomId\n  RootRouteId, // TId\n  TSearchSchema, // TSearchSchema\n  TSearchSchema, // TFullSearchSchema\n  {}, // TParams\n  {}, // TAllParams\n  TRouteContext, // TRouteContext\n  Expand<Assign<TRouterContext, TRouteContext>>, // TAllContext\n  TRouterContext, // TRouterContext\n  TLoaderDeps,\n  TLoaderData,\n  any, // TChildren\n  any // TRouteTree\n> {\n  constructor(\n    options?: Omit<\n      RouteOptions<\n        AnyRoute, // TParentRoute\n        RootRouteId, // TCustomId\n        '', // TPath\n        TSearchSchema, // TSearchSchema\n        TSearchSchema, // TFullSearchSchema\n        {}, // TParams\n        {}, // TAllParams\n        TRouteContext, // TRouteContext\n        Assign<TRouterContext, TRouteContext>, // TAllContext\n        TLoaderDeps,\n        TLoaderData\n      >,\n      | 'path'\n      | 'id'\n      | 'getParentRoute'\n      | 'caseSensitive'\n      | 'parseParams'\n      | 'stringifyParams'\n    >,\n  ) {\n    super(options as any)\n  }\n}\n\nexport type ResolveFullPath<\n  TParentRoute extends AnyRoute,\n  TPath extends string,\n  TPrefixed = RoutePrefix<TParentRoute['fullPath'], TPath>,\n> = TPrefixed extends RootRouteId ? '/' : TPrefixed\n\ntype RoutePrefix<\n  TPrefix extends string,\n  TPath extends string,\n> = string extends TPath\n  ? RootRouteId\n  : TPath extends string\n    ? TPrefix extends RootRouteId\n      ? TPath extends '/'\n        ? '/'\n        : `/${TrimPath<TPath>}`\n      : `${TPrefix}/${TPath}` extends '/'\n        ? '/'\n        : `/${TrimPathLeft<`${TrimPathRight<TPrefix>}/${TrimPath<TPath>}`>}`\n    : never\n\nexport type TrimPath<T extends string> = '' extends T\n  ? ''\n  : TrimPathRight<TrimPathLeft<T>>\n\nexport type TrimPathLeft<T extends string> =\n  T extends `${RootRouteId}/${infer U}`\n    ? TrimPathLeft<U>\n    : T extends `/${infer U}`\n      ? TrimPathLeft<U>\n      : T\nexport type TrimPathRight<T extends string> = T extends '/'\n  ? '/'\n  : T extends `${infer U}/`\n    ? TrimPathRight<U>\n    : T\n\nexport type RouteMask<TRouteTree extends AnyRoute> = {\n  routeTree: TRouteTree\n  from: RoutePaths<TRouteTree>\n  to?: any\n  params?: any\n  search?: any\n  hash?: any\n  state?: any\n  unmaskOnReload?: boolean\n}\n\nexport function createRouteMask<\n  TRouteTree extends AnyRoute,\n  TFrom extends RoutePaths<TRouteTree>,\n  TTo extends string,\n>(\n  opts: {\n    routeTree: TRouteTree\n  } & ToSubOptions<TRouteTree, TFrom, TTo>,\n): RouteMask<TRouteTree> {\n  return opts as any\n}\n\nexport type ErrorRouteProps = {\n  error: unknown\n  info: { componentStack: string }\n}\n//\n\nexport type ReactNode = any\n\nexport type SyncRouteComponent<TProps> =\n  | ((props: TProps) => ReactNode)\n  | React.LazyExoticComponent<(props: TProps) => ReactNode>\n\nexport type AsyncRouteComponent<TProps> = SyncRouteComponent<TProps> & {\n  preload?: () => Promise<void>\n}\n\nexport type RouteComponent<TProps = any> = SyncRouteComponent<TProps> &\n  AsyncRouteComponent<TProps>\n\nexport type ErrorRouteComponent = RouteComponent<ErrorRouteProps>\n\nexport class NotFoundRoute<\n  TParentRoute extends AnyRootRoute,\n  TSearchSchema extends RouteConstraints['TSearchSchema'] = {},\n  TFullSearchSchema extends\n    RouteConstraints['TFullSearchSchema'] = ResolveFullSearchSchema<\n    TParentRoute,\n    TSearchSchema\n  >,\n  TRouteContext extends RouteConstraints['TRouteContext'] = RouteContext,\n  TAllContext extends Expand<\n    Assign<IsAny<TParentRoute['types']['allContext'], {}>, TRouteContext>\n  > = Expand<\n    Assign<IsAny<TParentRoute['types']['allContext'], {}>, TRouteContext>\n  >,\n  TRouterContext extends RouteConstraints['TRouterContext'] = AnyContext,\n  TLoaderDeps extends Record<string, any> = {},\n  TLoaderData extends any = unknown,\n  TChildren extends RouteConstraints['TChildren'] = unknown,\n  TRouteTree extends RouteConstraints['TRouteTree'] = AnyRoute,\n> extends Route<\n  TParentRoute,\n  '/404',\n  '/404',\n  '404',\n  '404',\n  TSearchSchema,\n  TFullSearchSchema,\n  {},\n  {},\n  TRouteContext,\n  TAllContext,\n  TRouterContext,\n  TLoaderDeps,\n  TLoaderData,\n  TChildren,\n  TRouteTree\n> {\n  constructor(\n    options: Omit<\n      RouteOptions<\n        TParentRoute,\n        string,\n        string,\n        TSearchSchema,\n        TFullSearchSchema,\n        {},\n        {},\n        TRouteContext,\n        TAllContext,\n        TLoaderDeps,\n        TLoaderData\n      >,\n      'caseSensitive' | 'parseParams' | 'stringifyParams' | 'path' | 'id'\n    >,\n  ) {\n    super({\n      ...(options as any),\n      id: '404',\n    })\n  }\n}\n","import { ParsePathParams } from './link'\nimport {\n  AnyRoute,\n  ResolveFullPath,\n  ResolveFullSearchSchema,\n  MergeFromFromParent,\n  RouteContext,\n  AnyContext,\n  RouteOptions,\n  UpdatableRouteOptions,\n  Route,\n  AnyPathParams,\n  RootRouteId,\n  TrimPathLeft,\n  RouteConstraints,\n} from './route'\nimport { Assign, Expand, IsAny } from './utils'\n\nexport interface FileRoutesByPath {\n  // '/': {\n  //   parentRoute: typeof rootRoute\n  // }\n}\n\ntype Replace<\n  S extends string,\n  From extends string,\n  To extends string,\n> = S extends `${infer Start}${From}${infer Rest}`\n  ? `${Start}${To}${Replace<Rest, From, To>}`\n  : S\n\nexport type TrimLeft<\n  T extends string,\n  S extends string,\n> = T extends `${S}${infer U}` ? U : T\n\nexport type TrimRight<\n  T extends string,\n  S extends string,\n> = T extends `${infer U}${S}` ? U : T\n\nexport type Trim<T extends string, S extends string> = TrimLeft<\n  TrimRight<T, S>,\n  S\n>\n\nexport type RemoveUnderScores<T extends string> = Replace<\n  Replace<TrimRight<TrimLeft<T, '/_'>, '_'>, '_/', '/'>,\n  '/_',\n  '/'\n>\n\nexport type ResolveFilePath<\n  TParentRoute extends AnyRoute,\n  TFilePath extends string,\n> = TParentRoute['id'] extends RootRouteId\n  ? TrimPathLeft<TFilePath>\n  : Replace<\n      TrimPathLeft<TFilePath>,\n      TrimPathLeft<TParentRoute['types']['customId']>,\n      ''\n    >\n\nexport type FileRoutePath<\n  TParentRoute extends AnyRoute,\n  TFilePath extends string,\n> = ResolveFilePath<TParentRoute, TFilePath> extends `_${infer _}`\n  ? string\n  : ResolveFilePath<TParentRoute, TFilePath>\n\nexport class FileRoute<\n  TFilePath extends keyof FileRoutesByPath,\n  TParentRoute extends AnyRoute = FileRoutesByPath[TFilePath]['parentRoute'],\n  TId extends RouteConstraints['TId'] = TFilePath,\n  TPath extends RouteConstraints['TPath'] = FileRoutePath<\n    TParentRoute,\n    TFilePath\n  >,\n  TFullPath extends RouteConstraints['TFullPath'] = ResolveFullPath<\n    TParentRoute,\n    RemoveUnderScores<TPath>\n  >,\n> {\n  constructor(public path: TFilePath) {}\n\n  createRoute = <\n    TSearchSchema extends RouteConstraints['TSearchSchema'] = {},\n    TFullSearchSchema extends\n      RouteConstraints['TFullSearchSchema'] = ResolveFullSearchSchema<\n      TParentRoute,\n      TSearchSchema\n    >,\n    TParams extends RouteConstraints['TParams'] = Expand<\n      Record<ParsePathParams<TPath>, string>\n    >,\n    TAllParams extends RouteConstraints['TAllParams'] = MergeFromFromParent<\n      TParentRoute['types']['allParams'],\n      TParams\n    >,\n    TRouteContext extends RouteConstraints['TRouteContext'] = RouteContext,\n    TContext extends Expand<\n      Assign<IsAny<TParentRoute['types']['allContext'], {}>, TRouteContext>\n    > = Expand<\n      Assign<IsAny<TParentRoute['types']['allContext'], {}>, TRouteContext>\n    >,\n    TRouterContext extends RouteConstraints['TRouterContext'] = AnyContext,\n    TLoaderDeps extends Record<string, any> = {},\n    TLoaderData extends any = unknown,\n    TChildren extends RouteConstraints['TChildren'] = unknown,\n    TRouteTree extends RouteConstraints['TRouteTree'] = AnyRoute,\n  >(\n    options?: Omit<\n      RouteOptions<\n        TParentRoute,\n        string,\n        TPath,\n        TSearchSchema,\n        TFullSearchSchema,\n        TParams,\n        TAllParams,\n        TRouteContext,\n        TContext,\n        TLoaderDeps,\n        TLoaderData\n      >,\n      'getParentRoute' | 'path' | 'id'\n    > &\n      UpdatableRouteOptions<TFullSearchSchema>,\n  ): Route<\n    TParentRoute,\n    TPath,\n    TFullPath,\n    TFilePath,\n    TId,\n    TSearchSchema,\n    TFullSearchSchema,\n    TParams,\n    TAllParams,\n    TRouteContext,\n    TContext,\n    TRouterContext,\n    TLoaderDeps,\n    TLoaderData,\n    TChildren,\n    TRouteTree\n  > => {\n    const route = new Route(options as any)\n    ;(route as any).isRoot = false\n    return route as any\n  }\n}\n","import * as React from 'react'\nimport { AsyncRouteComponent } from './route'\n\nexport function lazyRouteComponent<\n  T extends Record<string, any>,\n  TKey extends keyof T = 'default',\n>(\n  importer: () => Promise<T>,\n  exportName?: TKey,\n): T[TKey] extends (props: infer TProps) => any\n  ? AsyncRouteComponent<TProps>\n  : never {\n  let loadPromise: Promise<any>\n\n  const load = () => {\n    if (!loadPromise) {\n      loadPromise = importer()\n    }\n\n    return loadPromise\n  }\n\n  const lazyComp = React.lazy(async () => {\n    const moduleExports = await load()\n    const comp = moduleExports[exportName ?? 'default']\n    return {\n      default: comp,\n    }\n  })\n  ;(lazyComp as any).preload = load\n\n  return lazyComp as any\n}\n","import * as React from 'react'\nimport { useMatch } from './Matches'\nimport { useRouter, useRouterState } from './RouterProvider'\nimport { Trim } from './fileRoute'\nimport { AnyRoute, ReactNode } from './route'\nimport {\n  AllParams,\n  FullSearchSchema,\n  RouteByPath,\n  RouteIds,\n  RoutePaths,\n} from './routeInfo'\nimport { RegisteredRouter } from './router'\nimport { LinkProps, UseLinkPropsOptions } from './useNavigate'\nimport {\n  Expand,\n  NoInfer,\n  NonNullableUpdater,\n  PickRequired,\n  UnionToIntersection,\n  Updater,\n  deepEqual,\n  functionalUpdate,\n} from './utils'\nimport { HistoryState } from '@tanstack/history'\n\nexport type CleanPath<T extends string> = T extends `${infer L}//${infer R}`\n  ? CleanPath<`${CleanPath<L>}/${CleanPath<R>}`>\n  : T extends `${infer L}//`\n    ? `${CleanPath<L>}/`\n    : T extends `//${infer L}`\n      ? `/${CleanPath<L>}`\n      : T\n\nexport type Split<S, TIncludeTrailingSlash = true> = S extends unknown\n  ? string extends S\n    ? string[]\n    : S extends string\n      ? CleanPath<S> extends ''\n        ? []\n        : TIncludeTrailingSlash extends true\n          ? CleanPath<S> extends `${infer T}/`\n            ? [...Split<T>, '/']\n            : CleanPath<S> extends `/${infer U}`\n              ? Split<U>\n              : CleanPath<S> extends `${infer T}/${infer U}`\n                ? [...Split<T>, ...Split<U>]\n                : [S]\n          : CleanPath<S> extends `${infer T}/${infer U}`\n            ? [...Split<T>, ...Split<U>]\n            : S extends string\n              ? [S]\n              : never\n      : never\n  : never\n\nexport type ParsePathParams<T extends string> = keyof {\n  [K in Trim<Split<T>[number], '_'> as K extends `$${infer L}` ? L : never]: K\n}\n\nexport type Join<T, Delimiter extends string = '/'> = T extends []\n  ? ''\n  : T extends [infer L extends string]\n    ? L\n    : T extends [infer L extends string, ...infer Tail extends [...string[]]]\n      ? CleanPath<`${L}${Delimiter}${Join<Tail>}`>\n      : never\n\nexport type Last<T extends any[]> = T extends [...infer _, infer L] ? L : never\n\nexport type RelativeToPathAutoComplete<\n  AllPaths extends string,\n  TFrom extends string,\n  TTo extends string,\n  SplitPaths extends string[] = Split<AllPaths, false>,\n> = TTo extends `..${infer _}`\n  ? SplitPaths extends [\n      ...Split<ResolveRelativePath<TFrom, TTo>, false>,\n      ...infer TToRest,\n    ]\n    ? `${CleanPath<\n        Join<\n          [\n            ...Split<TTo, false>,\n            ...(\n              | TToRest\n              | (Split<\n                  ResolveRelativePath<TFrom, TTo>,\n                  false\n                >['length'] extends 1\n                  ? never\n                  : ['../'])\n            ),\n          ]\n        >\n      >}`\n    : never\n  : TTo extends `./${infer RestTTo}`\n    ? SplitPaths extends [\n        ...Split<TFrom, false>,\n        ...Split<RestTTo, false>,\n        ...infer RestPath,\n      ]\n      ? `${TTo}${Join<RestPath>}`\n      : never\n    :\n        | (TFrom extends `/`\n            ? never\n            : SplitPaths extends [...Split<TFrom, false>, ...infer RestPath]\n              ? Join<RestPath> extends { length: 0 }\n                ? never\n                : './'\n              : never)\n        | (TFrom extends `/` ? never : '../')\n        | AllPaths\n\nexport type NavigateOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = TFrom,\n  TMaskTo extends string = '',\n> = ToOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> & {\n  // `replace` is a boolean that determines whether the navigation should replace the current history entry or push a new one.\n  replace?: boolean\n  resetScroll?: boolean\n  // If set to `true`, the link's underlying navigate() call will be wrapped in a `React.startTransition` call. Defaults to `true`.\n  startTransition?: boolean\n}\n\nexport type ToOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n> = ToSubOptions<TRouteTree, TFrom, TTo> & {\n  mask?: ToMaskOptions<TRouteTree, TMaskFrom, TMaskTo>\n}\n\nexport type ToMaskOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n> = ToSubOptions<TRouteTree, TMaskFrom, TMaskTo> & {\n  unmaskOnReload?: boolean\n}\n\nexport type ToSubOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TResolved = ResolveRelativePath<TFrom, NoInfer<TTo>>,\n> = {\n  to?: ToPathOption<TRouteTree, TFrom, TTo>\n  // The new has string or a function to update it\n  hash?: true | Updater<string>\n  // State to pass to the history stack\n  state?: true | NonNullableUpdater<HistoryState>\n  // The source route path. This is automatically set when using route-level APIs, but for type-safe relative routing on the router itself, this is required\n  from?: TFrom\n  // // When using relative route paths, this option forces resolution from the current path, instead of the route API's path or `from` path\n} & CheckPath<TRouteTree, NoInfer<TResolved>, {}> &\n  SearchParamOptions<TRouteTree, TFrom, TTo, TResolved> &\n  PathParamOptions<TRouteTree, TFrom, TResolved>\n\nexport type SearchParamOptions<\n  TRouteTree extends AnyRoute,\n  TFrom,\n  TTo,\n  TResolved = ResolveRelativePath<TFrom, NoInfer<TTo>>,\n  TFromSearchEnsured = '/' extends TFrom\n    ? FullSearchSchema<TRouteTree>\n    : Expand<\n          PickRequired<\n            RouteByPath<TRouteTree, TFrom>['types']['fullSearchSchema']\n          >\n      >,\n  TFromSearchOptional = Omit<\n    FullSearchSchema<TRouteTree>,\n    keyof TFromSearchEnsured\n  >,\n  TFromSearch = Expand<TFromSearchEnsured & TFromSearchOptional>,\n  TToSearch = '' extends TTo\n    ? FullSearchSchema<TRouteTree>\n    : Expand<RouteByPath<TRouteTree, TResolved>['types']['fullSearchSchema']>,\n> = keyof PickRequired<TToSearch> extends never\n  ? {\n      search?: true | SearchReducer<TFromSearch, TToSearch>\n    }\n  : {\n      search: TFromSearchEnsured extends PickRequired<TToSearch>\n        ? true | SearchReducer<TFromSearch, TToSearch>\n        : SearchReducer<TFromSearch, TToSearch>\n    }\n\ntype SearchReducer<TFrom, TTo> = TTo | ((current: TFrom) => TTo)\n\nexport type PathParamOptions<\n  TRouteTree extends AnyRoute,\n  TFrom,\n  TTo,\n  TFromParamsEnsured = Expand<\n    UnionToIntersection<\n      PickRequired<RouteByPath<TRouteTree, TFrom>['types']['allParams']>\n    >\n  >,\n  TFromParamsOptional = Omit<AllParams<TRouteTree>, keyof TFromParamsEnsured>,\n  TFromParams = Expand<TFromParamsOptional & TFromParamsEnsured>,\n  TToParams = Expand<RouteByPath<TRouteTree, TTo>['types']['allParams']>,\n> = never extends TToParams\n  ? {\n      params?: true | ParamsReducer<Partial<TFromParams>, Partial<TFromParams>>\n    }\n  : keyof PickRequired<TToParams> extends never\n    ? {\n        params?: true | ParamsReducer<TFromParams, TToParams>\n      }\n    : {\n        params: TFromParamsEnsured extends PickRequired<TToParams>\n          ? true | ParamsReducer<TFromParams, TToParams>\n          : ParamsReducer<TFromParams, TToParams>\n      }\n\ntype ParamsReducer<TFrom, TTo> = TTo | ((current: TFrom) => TTo)\n\nexport type ToPathOption<\n  TRouteTree extends AnyRoute = AnyRoute,\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n> =\n  | TTo\n  | RelativeToPathAutoComplete<\n      RoutePaths<TRouteTree>,\n      NoInfer<TFrom> extends string ? NoInfer<TFrom> : '',\n      NoInfer<TTo> & string\n    >\n\nexport type ToIdOption<\n  TRouteTree extends AnyRoute = AnyRoute,\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n> =\n  | TTo\n  | RelativeToPathAutoComplete<\n      RouteIds<TRouteTree>,\n      NoInfer<TFrom> extends string ? NoInfer<TFrom> : '',\n      NoInfer<TTo> & string\n    >\n\nexport interface ActiveOptions {\n  exact?: boolean\n  includeHash?: boolean\n  includeSearch?: boolean\n}\n\nexport type LinkOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = TFrom,\n  TMaskTo extends string = '',\n> = NavigateOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> & {\n  // The standard anchor tag target attribute\n  target?: HTMLAnchorElement['target']\n  // Defaults to `{ exact: false, includeHash: false }`\n  activeOptions?: ActiveOptions\n  // If set, will preload the linked route on hover and cache it for this many milliseconds in hopes that the user will eventually navigate there.\n  preload?: false | 'intent'\n  // Delay intent preloading by this many milliseconds. If the intent exits before this delay, the preload will be cancelled.\n  preloadDelay?: number\n  // If true, will render the link without the href attribute\n  disabled?: boolean\n}\n\nexport type CheckRelativePath<\n  TRouteTree extends AnyRoute,\n  TFrom,\n  TTo,\n> = TTo extends string\n  ? TFrom extends string\n    ? ResolveRelativePath<TFrom, TTo> extends RoutePaths<TRouteTree>\n      ? {}\n      : {\n          Error: `${TFrom} + ${TTo} resolves to ${ResolveRelativePath<\n            TFrom,\n            TTo\n          >}, which is not a valid route path.`\n          'Valid Route Paths': RoutePaths<TRouteTree>\n        }\n    : {}\n  : {}\n\nexport type CheckPath<TRouteTree extends AnyRoute, TPath, TPass> = Exclude<\n  TPath,\n  RoutePaths<TRouteTree>\n> extends never\n  ? TPass\n  : CheckPathError<TRouteTree, Exclude<TPath, RoutePaths<TRouteTree>>>\n\nexport type CheckPathError<TRouteTree extends AnyRoute, TInvalids> = {\n  to: RoutePaths<TRouteTree>\n}\n\nexport type CheckId<TRouteTree extends AnyRoute, TPath, TPass> = Exclude<\n  TPath,\n  RouteIds<TRouteTree>\n> extends never\n  ? TPass\n  : CheckIdError<TRouteTree, Exclude<TPath, RouteIds<TRouteTree>>>\n\nexport type CheckIdError<TRouteTree extends AnyRoute, TInvalids> = {\n  Error: `${TInvalids extends string\n    ? TInvalids\n    : never} is not a valid route ID.`\n  'Valid Route IDs': RouteIds<TRouteTree>\n}\n\nexport type ResolveRelativePath<TFrom, TTo = '.'> = TFrom extends string\n  ? TTo extends string\n    ? TTo extends '.'\n      ? TFrom\n      : TTo extends `./`\n        ? Join<[TFrom, '/']>\n        : TTo extends `./${infer TRest}`\n          ? ResolveRelativePath<TFrom, TRest>\n          : TTo extends `/${infer TRest}`\n            ? TTo\n            : Split<TTo> extends ['..', ...infer ToRest]\n              ? Split<TFrom> extends [...infer FromRest, infer FromTail]\n                ? ToRest extends ['/']\n                  ? Join<[...FromRest, '/']>\n                  : ResolveRelativePath<Join<FromRest>, Join<ToRest>>\n                : never\n              : Split<TTo> extends ['.', ...infer ToRest]\n                ? ToRest extends ['/']\n                  ? Join<[TFrom, '/']>\n                  : ResolveRelativePath<TFrom, Join<ToRest>>\n                : CleanPath<Join<['/', ...Split<TFrom>, ...Split<TTo>]>>\n    : never\n  : never\n\ntype LinkCurrentTargetElement = {\n  preloadTimeout?: null | ReturnType<typeof setTimeout>\n}\n\nconst preloadWarning = 'Error preloading route! â˜ï¸'\n\nexport function useLinkProps<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n>(\n  options: UseLinkPropsOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>,\n): React.AnchorHTMLAttributes<HTMLAnchorElement> {\n  const router = useRouter()\n  const matchPathname = useMatch({\n    strict: false,\n    select: (s) => s.pathname,\n  })\n\n  const {\n    // custom props\n    children,\n    target,\n    activeProps = () => ({ className: 'active' }),\n    inactiveProps = () => ({}),\n    activeOptions,\n    disabled,\n    hash,\n    search,\n    params,\n    to,\n    state,\n    mask,\n    preload: userPreload,\n    preloadDelay: userPreloadDelay,\n    replace,\n    startTransition,\n    resetScroll,\n    // element props\n    style,\n    className,\n    onClick,\n    onFocus,\n    onMouseEnter,\n    onMouseLeave,\n    onTouchStart,\n    ...rest\n  } = options\n\n  // If this link simply reloads the current route,\n  // make sure it has a new key so it will trigger a data refresh\n\n  // If this `to` is a valid external URL, return\n  // null for LinkUtils\n\n  const dest = {\n    from: options.to ? matchPathname : undefined,\n    ...options,\n  }\n\n  let type: 'internal' | 'external' = 'internal'\n\n  try {\n    new URL(`${to}`)\n    type = 'external'\n  } catch {}\n\n  if (type === 'external') {\n    return {\n      href: to,\n    }\n  }\n\n  const next = router.buildLocation(dest as any)\n\n  const preload = userPreload ?? router.options.defaultPreload\n  const preloadDelay =\n    userPreloadDelay ?? router.options.defaultPreloadDelay ?? 0\n\n  const isActive = useRouterState({\n    select: (s) => {\n      // Compare path/hash for matches\n      const currentPathSplit = s.location.pathname.split('/')\n      const nextPathSplit = next.pathname.split('/')\n      const pathIsFuzzyEqual = nextPathSplit.every(\n        (d, i) => d === currentPathSplit[i],\n      )\n      // Combine the matches based on user router.options\n      const pathTest = activeOptions?.exact\n        ? s.location.pathname === next.pathname\n        : pathIsFuzzyEqual\n      const hashTest = activeOptions?.includeHash\n        ? s.location.hash === next.hash\n        : true\n      const searchTest =\n        activeOptions?.includeSearch ?? true\n          ? deepEqual(s.location.search, next.search, !activeOptions?.exact)\n          : true\n\n      // The final \"active\" test\n      return pathTest && hashTest && searchTest\n    },\n  })\n\n  // The click handler\n  const handleClick = (e: MouseEvent) => {\n    if (\n      !disabled &&\n      !isCtrlEvent(e) &&\n      !e.defaultPrevented &&\n      (!target || target === '_self') &&\n      e.button === 0\n    ) {\n      e.preventDefault()\n\n      // All is well? Navigate!\n      router.commitLocation({ ...next, replace, resetScroll, startTransition })\n    }\n  }\n\n  // The click handler\n  const handleFocus = (e: MouseEvent) => {\n    if (preload) {\n      router.preloadRoute(dest as any).catch((err) => {\n        console.warn(err)\n        console.warn(preloadWarning)\n      })\n    }\n  }\n\n  const handleTouchStart = (e: TouchEvent) => {\n    if (preload) {\n      router.preloadRoute(dest as any).catch((err) => {\n        console.warn(err)\n        console.warn(preloadWarning)\n      })\n    }\n  }\n\n  const handleEnter = (e: MouseEvent) => {\n    const target = (e.target || {}) as LinkCurrentTargetElement\n\n    if (preload) {\n      if (target.preloadTimeout) {\n        return\n      }\n\n      target.preloadTimeout = setTimeout(() => {\n        target.preloadTimeout = null\n        router.preloadRoute(dest as any).catch((err) => {\n          console.warn(err)\n          console.warn(preloadWarning)\n        })\n      }, preloadDelay)\n    }\n  }\n\n  const handleLeave = (e: MouseEvent) => {\n    const target = (e.target || {}) as LinkCurrentTargetElement\n\n    if (target.preloadTimeout) {\n      clearTimeout(target.preloadTimeout)\n      target.preloadTimeout = null\n    }\n  }\n\n  const composeHandlers =\n    (handlers: (undefined | ((e: any) => void))[]) =>\n    (e: React.SyntheticEvent) => {\n      if (e.persist) e.persist()\n      handlers.filter(Boolean).forEach((handler) => {\n        if (e.defaultPrevented) return\n        handler!(e)\n      })\n    }\n\n  // Get the active props\n  const resolvedActiveProps: React.HTMLAttributes<HTMLAnchorElement> = isActive\n    ? functionalUpdate(activeProps as any, {}) ?? {}\n    : {}\n\n  // Get the inactive props\n  const resolvedInactiveProps: React.HTMLAttributes<HTMLAnchorElement> =\n    isActive ? {} : functionalUpdate(inactiveProps, {}) ?? {}\n\n  return {\n    ...resolvedActiveProps,\n    ...resolvedInactiveProps,\n    ...rest,\n    href: disabled\n      ? undefined\n      : next.maskedLocation\n        ? next.maskedLocation.href\n        : next.href,\n    onClick: composeHandlers([onClick, handleClick]),\n    onFocus: composeHandlers([onFocus, handleFocus]),\n    onMouseEnter: composeHandlers([onMouseEnter, handleEnter]),\n    onMouseLeave: composeHandlers([onMouseLeave, handleLeave]),\n    onTouchStart: composeHandlers([onTouchStart, handleTouchStart]),\n    target,\n    style: {\n      ...style,\n      ...resolvedActiveProps.style,\n      ...resolvedInactiveProps.style,\n    },\n    className:\n      [\n        className,\n        resolvedActiveProps.className,\n        resolvedInactiveProps.className,\n      ]\n        .filter(Boolean)\n        .join(' ') || undefined,\n    ...(disabled\n      ? {\n          role: 'link',\n          'aria-disabled': true,\n        }\n      : undefined),\n    ['data-status']: isActive ? 'active' : undefined,\n  }\n}\n\nexport interface LinkComponent<TProps extends Record<string, any> = {}> {\n  <\n    TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n    TFrom extends RoutePaths<TRouteTree> = '/',\n    TTo extends string = '',\n    TMaskFrom extends RoutePaths<TRouteTree> = '/',\n    TMaskTo extends string = '',\n  >(\n    props: LinkProps<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> &\n      TProps &\n      React.RefAttributes<HTMLAnchorElement>,\n  ): ReactNode\n}\n\nexport const Link: LinkComponent = React.forwardRef((props: any, ref) => {\n  const linkProps = useLinkProps(props)\n\n  return (\n    <a\n      {...{\n        ref: ref as any,\n        ...linkProps,\n        children:\n          typeof props.children === 'function'\n            ? props.children({\n                isActive: (linkProps as any)['data-status'] === 'active',\n              })\n            : props.children,\n      }}\n    />\n  )\n}) as any\n\nfunction isCtrlEvent(e: MouseEvent) {\n  return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\n}\n","// @ts-nocheck\n\n// qss has been slightly modified and inlined here for our use cases (and compression's sake). We've included it as a hard dependency for MIT license attribution.\n\nexport function encode(obj, pfx?: string) {\n  var k,\n    i,\n    tmp,\n    str = ''\n\n  for (k in obj) {\n    if ((tmp = obj[k]) !== void 0) {\n      if (Array.isArray(tmp)) {\n        for (i = 0; i < tmp.length; i++) {\n          str && (str += '&')\n          str += encodeURIComponent(k) + '=' + encodeURIComponent(tmp[i])\n        }\n      } else {\n        str && (str += '&')\n        str += encodeURIComponent(k) + '=' + encodeURIComponent(tmp)\n      }\n    }\n  }\n\n  return (pfx || '') + str\n}\n\nfunction toValue(mix) {\n  if (!mix) return ''\n  var str = decodeURIComponent(mix)\n  if (str === 'false') return false\n  if (str === 'true') return true\n  return +str * 0 === 0 && +str + '' === str ? +str : str\n}\n\nexport function decode(str) {\n  var tmp,\n    k,\n    out = {},\n    arr = str.split('&')\n\n  while ((tmp = arr.shift())) {\n    tmp = tmp.split('=')\n    k = tmp.shift()\n    if (out[k] !== void 0) {\n      out[k] = [].concat(out[k], toValue(tmp.shift()))\n    } else {\n      out[k] = toValue(tmp.shift())\n    }\n  }\n\n  return out\n}\n","import { NavigateOptions } from './link'\nimport { AnyRoute } from './route'\nimport { RoutePaths } from './routeInfo'\nimport { RegisteredRouter } from './router'\n\n// Detect if we're in the DOM\n\nexport type AnyRedirect = Redirect<any, any, any, any, any>\n\nexport type Redirect<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = TFrom,\n  TMaskTo extends string = '',\n> = {\n  code?: number\n  throw?: any\n} & NavigateOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>\n\nexport function redirect<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = TFrom,\n  TMaskTo extends string = '',\n>(\n  opts: Redirect<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>,\n): Redirect<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> {\n  ;(opts as any).isRedirect = true\n  if (opts.throw) {\n    throw opts\n  }\n  return opts\n}\n\nexport function isRedirect(obj: any): obj is AnyRedirect {\n  return !!obj?.isRedirect\n}\n","import { decode, encode } from './qss'\nimport { AnySearchSchema } from './route'\n\nexport const defaultParseSearch = parseSearchWith(JSON.parse)\nexport const defaultStringifySearch = stringifySearchWith(\n  JSON.stringify,\n  JSON.parse,\n)\n\nexport function parseSearchWith(parser: (str: string) => any) {\n  return (searchStr: string): AnySearchSchema => {\n    if (searchStr.substring(0, 1) === '?') {\n      searchStr = searchStr.substring(1)\n    }\n\n    let query: Record<string, unknown> = decode(searchStr)\n\n    // Try to parse any query params that might be json\n    for (let key in query) {\n      const value = query[key]\n      if (typeof value === 'string') {\n        try {\n          query[key] = parser(value)\n        } catch (err) {\n          //\n        }\n      }\n    }\n\n    return query\n  }\n}\n\nexport function stringifySearchWith(\n  stringify: (search: any) => string,\n  parser?: (str: string) => any,\n) {\n  function stringifyValue(val: any) {\n    if (typeof val === 'object' && val !== null) {\n      try {\n        return stringify(val)\n      } catch (err) {\n        // silent\n      }\n    } else if (typeof val === 'string' && typeof parser === 'function') {\n      try {\n        // Check if it's a valid parseable string.\n        // If it is, then stringify it again.\n        parser(val)\n        return stringify(val)\n      } catch (err) {\n        // silent\n      }\n    }\n    return val\n  }\n\n  return (search: Record<string, any>) => {\n    search = { ...search }\n\n    if (search) {\n      Object.keys(search).forEach((key) => {\n        const val = search[key]\n        if (typeof val === 'undefined' || val === undefined) {\n          delete search[key]\n        } else {\n          search[key] = stringifyValue(val)\n        }\n      })\n    }\n\n    const searchStr = encode(search as Record<string, string>).toString()\n\n    return searchStr ? `?${searchStr}` : ''\n  }\n}\n\nexport type SearchSerializer = (searchObj: Record<string, any>) => string\nexport type SearchParser = (searchStr: string) => Record<string, any>\n","import {\n  HistoryLocation,\n  HistoryState,\n  RouterHistory,\n  createBrowserHistory,\n  createMemoryHistory,\n} from '@tanstack/history'\nimport { Store } from '@tanstack/store'\n\n//\n\nimport {\n  AnySearchSchema,\n  AnyRoute,\n  AnyContext,\n  AnyPathParams,\n  RouteMask,\n  Route,\n  LoaderFnContext,\n} from './route'\nimport { FullSearchSchema, RoutesById, RoutesByPath } from './routeInfo'\nimport { defaultParseSearch, defaultStringifySearch } from './searchParams'\nimport {\n  PickAsRequired,\n  Updater,\n  NonNullableUpdater,\n  replaceEqualDeep,\n  deepEqual,\n  escapeJSON,\n  functionalUpdate,\n  last,\n  pick,\n  Timeout,\n} from './utils'\nimport { RouteComponent } from './route'\nimport { AnyRouteMatch, RouteMatch } from './Matches'\nimport { ParsedLocation } from './location'\nimport { SearchSerializer, SearchParser } from './searchParams'\nimport {\n  BuildLocationFn,\n  CommitLocationOptions,\n  InjectedHtmlEntry,\n  MatchRouteFn,\n  NavigateFn,\n  getRouteMatch,\n} from './RouterProvider'\n\nimport {\n  cleanPath,\n  interpolatePath,\n  joinPaths,\n  matchPathname,\n  parsePathname,\n  removeBasepath,\n  resolvePath,\n  trimPath,\n  trimPathLeft,\n  trimPathRight,\n} from './path'\nimport invariant from 'tiny-invariant'\nimport { isRedirect } from './redirects'\nimport { ToOptions } from './link'\n// import warning from 'tiny-warning'\n\n//\n\ndeclare global {\n  interface Window {\n    __TSR_DEHYDRATED__?: HydrationCtx\n    __TSR_ROUTER_CONTEXT__?: React.Context<Router<any>>\n  }\n}\n\nexport interface Register {\n  // router: Router\n}\n\nexport type AnyRouter = Router<AnyRoute, any>\n\nexport type RegisteredRouter = Register extends {\n  router: infer TRouter extends AnyRouter\n}\n  ? TRouter\n  : AnyRouter\n\nexport type HydrationCtx = {\n  router: DehydratedRouter\n  payload: Record<string, any>\n}\n\nexport type RouterContextOptions<TRouteTree extends AnyRoute> =\n  AnyContext extends TRouteTree['types']['routerContext']\n    ? {\n        context?: TRouteTree['types']['routerContext']\n      }\n    : {\n        context: TRouteTree['types']['routerContext']\n      }\n\nexport interface RouterOptions<\n  TRouteTree extends AnyRoute,\n  TDehydrated extends Record<string, any> = Record<string, any>,\n> {\n  history?: RouterHistory\n  stringifySearch?: SearchSerializer\n  parseSearch?: SearchParser\n  defaultPreload?: false | 'intent'\n  defaultPreloadDelay?: number\n  defaultComponent?: RouteComponent\n  defaultErrorComponent?: RouteComponent\n  defaultPendingComponent?: RouteComponent\n  defaultPendingMs?: number\n  defaultPendingMinMs?: number\n  defaultStaleTime?: number\n  defaultPreloadStaleTime?: number\n  defaultPreloadGcTime?: number\n  defaultGcTime?: number\n  caseSensitive?: boolean\n  routeTree?: TRouteTree\n  basepath?: string\n  context?: TRouteTree['types']['routerContext']\n  dehydrate?: () => TDehydrated\n  hydrate?: (dehydrated: TDehydrated) => void\n  routeMasks?: RouteMask<TRouteTree>[]\n  unmaskOnReload?: boolean\n  Wrap?: (props: { children: any }) => JSX.Element\n  InnerWrap?: (props: { children: any }) => JSX.Element\n  notFoundRoute?: AnyRoute\n}\n\nexport interface RouterState<TRouteTree extends AnyRoute = AnyRoute> {\n  status: 'pending' | 'idle'\n  isLoading: boolean\n  isTransitioning: boolean\n  matches: RouteMatch<TRouteTree>[]\n  pendingMatches?: RouteMatch<TRouteTree>[]\n  cachedMatches: RouteMatch<TRouteTree>[]\n  location: ParsedLocation<FullSearchSchema<TRouteTree>>\n  resolvedLocation: ParsedLocation<FullSearchSchema<TRouteTree>>\n  lastUpdated: number\n}\n\nexport type ListenerFn<TEvent extends RouterEvent> = (event: TEvent) => void\n\nexport interface BuildNextOptions {\n  to?: string | number | null\n  params?: true | Updater<unknown>\n  search?: true | Updater<unknown>\n  hash?: true | Updater<string>\n  state?: true | NonNullableUpdater<HistoryState>\n  mask?: {\n    to?: string | number | null\n    params?: true | Updater<unknown>\n    search?: true | Updater<unknown>\n    hash?: true | Updater<string>\n    state?: true | NonNullableUpdater<HistoryState>\n    unmaskOnReload?: boolean\n  }\n  from?: string\n}\n\nexport interface DehydratedRouterState {\n  dehydratedMatches: DehydratedRouteMatch[]\n}\n\nexport type DehydratedRouteMatch = Pick<\n  RouteMatch,\n  'id' | 'status' | 'updatedAt'\n>\n\nexport interface DehydratedRouter {\n  state: DehydratedRouterState\n}\n\nexport type RouterConstructorOptions<\n  TRouteTree extends AnyRoute,\n  TDehydrated extends Record<string, any>,\n> = Omit<RouterOptions<TRouteTree, TDehydrated>, 'context'> &\n  RouterContextOptions<TRouteTree>\n\nexport const componentTypes = [\n  'component',\n  'errorComponent',\n  'pendingComponent',\n] as const\n\nexport type RouterEvents = {\n  onBeforeLoad: {\n    type: 'onBeforeLoad'\n    fromLocation: ParsedLocation\n    toLocation: ParsedLocation\n    pathChanged: boolean\n  }\n  onLoad: {\n    type: 'onLoad'\n    fromLocation: ParsedLocation\n    toLocation: ParsedLocation\n    pathChanged: boolean\n  }\n  onResolved: {\n    type: 'onResolved'\n    fromLocation: ParsedLocation\n    toLocation: ParsedLocation\n    pathChanged: boolean\n  }\n}\n\nexport type RouterEvent = RouterEvents[keyof RouterEvents]\n\nexport type RouterListener<TRouterEvent extends RouterEvent> = {\n  eventType: TRouterEvent['type']\n  fn: ListenerFn<TRouterEvent>\n}\n\nexport class Router<\n  TRouteTree extends AnyRoute = AnyRoute,\n  TDehydrated extends Record<string, any> = Record<string, any>,\n> {\n  // Option-independent properties\n  tempLocationKey: string | undefined = `${Math.round(\n    Math.random() * 10000000,\n  )}`\n  resetNextScroll: boolean = true\n  navigateTimeout: Timeout | null = null\n  latestLoadPromise: Promise<void> = Promise.resolve()\n  subscribers = new Set<RouterListener<RouterEvent>>()\n  injectedHtml: InjectedHtmlEntry[] = []\n  dehydratedData?: TDehydrated\n\n  // Must build in constructor\n  __store!: Store<RouterState<TRouteTree>>\n  options!: PickAsRequired<\n    RouterOptions<TRouteTree, TDehydrated>,\n    'stringifySearch' | 'parseSearch' | 'context'\n  >\n  history!: RouterHistory\n  latestLocation!: ParsedLocation\n  basepath!: string\n  routeTree!: TRouteTree\n  routesById!: RoutesById<TRouteTree>\n  routesByPath!: RoutesByPath<TRouteTree>\n  flatRoutes!: AnyRoute[]\n\n  constructor(options: RouterConstructorOptions<TRouteTree, TDehydrated>) {\n    this.update({\n      defaultPreloadDelay: 50,\n      defaultPendingMs: 1000,\n      defaultPendingMinMs: 500,\n      context: undefined!,\n      ...options,\n      stringifySearch: options?.stringifySearch ?? defaultStringifySearch,\n      parseSearch: options?.parseSearch ?? defaultParseSearch,\n    })\n  }\n\n  // These are default implementations that can optionally be overridden\n  // by the router provider once rendered. We provide these so that the\n  // router can be used in a non-react environment if necessary\n  startReactTransition: (fn: () => void) => void = (fn) => fn()\n\n  update = (newOptions: RouterConstructorOptions<TRouteTree, TDehydrated>) => {\n    this.options = {\n      ...this.options,\n      ...newOptions,\n    }\n\n    this.basepath = `/${trimPath(newOptions.basepath ?? '') ?? ''}`\n\n    if (\n      !this.history ||\n      (this.options.history && this.options.history !== this.history)\n    ) {\n      this.history =\n        this.options.history ??\n        (typeof document !== 'undefined'\n          ? createBrowserHistory()\n          : createMemoryHistory())\n      this.latestLocation = this.parseLocation()\n    }\n\n    if (this.options.routeTree !== this.routeTree) {\n      this.routeTree = this.options.routeTree as TRouteTree\n      this.buildRouteTree()\n    }\n\n    if (!this.__store) {\n      this.__store = new Store(getInitialRouterState(this.latestLocation), {\n        onUpdate: () => {\n          this.__store.state = {\n            ...this.state,\n            status:\n              this.state.isTransitioning || this.state.isLoading\n                ? 'pending'\n                : 'idle',\n          }\n        },\n      })\n    }\n  }\n\n  get state() {\n    return this.__store.state\n  }\n\n  buildRouteTree = () => {\n    this.routesById = {} as RoutesById<TRouteTree>\n    this.routesByPath = {} as RoutesByPath<TRouteTree>\n\n    const notFoundRoute = this.options.notFoundRoute\n    if (notFoundRoute) {\n      notFoundRoute.init({ originalIndex: 99999999999 })\n      ;(this.routesById as any)[notFoundRoute.id] = notFoundRoute\n    }\n\n    const recurseRoutes = (childRoutes: AnyRoute[]) => {\n      childRoutes.forEach((childRoute, i) => {\n        childRoute.init({ originalIndex: i })\n\n        const existingRoute = (this.routesById as any)[childRoute.id]\n\n        invariant(\n          !existingRoute,\n          `Duplicate routes found with id: ${String(childRoute.id)}`,\n        )\n        ;(this.routesById as any)[childRoute.id] = childRoute\n\n        if (!childRoute.isRoot && childRoute.path) {\n          const trimmedFullPath = trimPathRight(childRoute.fullPath)\n          if (\n            !(this.routesByPath as any)[trimmedFullPath] ||\n            childRoute.fullPath.endsWith('/')\n          ) {\n            ;(this.routesByPath as any)[trimmedFullPath] = childRoute\n          }\n        }\n\n        const children = childRoute.children as Route[]\n\n        if (children?.length) {\n          recurseRoutes(children)\n        }\n      })\n    }\n\n    recurseRoutes([this.routeTree])\n\n    const scoredRoutes: {\n      child: AnyRoute\n      trimmed: string\n      parsed: ReturnType<typeof parsePathname>\n      index: number\n      scores: number[]\n    }[] = []\n\n    ;(Object.values(this.routesById) as AnyRoute[]).forEach((d, i) => {\n      if (d.isRoot || !d.path) {\n        return\n      }\n\n      const trimmed = trimPathLeft(d.fullPath)\n      const parsed = parsePathname(trimmed)\n\n      while (parsed.length > 1 && parsed[0]?.value === '/') {\n        parsed.shift()\n      }\n\n      const scores = parsed.map((d) => {\n        if (d.value === '/') {\n          return 0.75\n        }\n\n        if (d.type === 'param') {\n          return 0.5\n        }\n\n        if (d.type === 'wildcard') {\n          return 0.25\n        }\n\n        return 1\n      })\n\n      scoredRoutes.push({ child: d, trimmed, parsed, index: i, scores })\n    })\n\n    this.flatRoutes = scoredRoutes\n      .sort((a, b) => {\n        const minLength = Math.min(a.scores.length, b.scores.length)\n\n        // Sort by min available score\n        for (let i = 0; i < minLength; i++) {\n          if (a.scores[i] !== b.scores[i]) {\n            return b.scores[i]! - a.scores[i]!\n          }\n        }\n\n        // Sort by length of score\n        if (a.scores.length !== b.scores.length) {\n          return b.scores.length - a.scores.length\n        }\n\n        // Sort by min available parsed value\n        for (let i = 0; i < minLength; i++) {\n          if (a.parsed[i]!.value !== b.parsed[i]!.value) {\n            return a.parsed[i]!.value! > b.parsed[i]!.value! ? 1 : -1\n          }\n        }\n\n        // Sort by original index\n        return a.index - b.index\n      })\n      .map((d, i) => {\n        d.child.rank = i\n        return d.child\n      })\n  }\n\n  subscribe = <TType extends keyof RouterEvents>(\n    eventType: TType,\n    fn: ListenerFn<RouterEvents[TType]>,\n  ) => {\n    const listener: RouterListener<any> = {\n      eventType,\n      fn,\n    }\n\n    this.subscribers.add(listener)\n\n    return () => {\n      this.subscribers.delete(listener)\n    }\n  }\n\n  emit = (routerEvent: RouterEvent) => {\n    this.subscribers.forEach((listener) => {\n      if (listener.eventType === routerEvent.type) {\n        listener.fn(routerEvent)\n      }\n    })\n  }\n\n  checkLatest = (promise: Promise<void>): undefined | Promise<void> => {\n    return this.latestLoadPromise !== promise\n      ? this.latestLoadPromise\n      : undefined\n  }\n\n  parseLocation = (\n    previousLocation?: ParsedLocation,\n  ): ParsedLocation<FullSearchSchema<TRouteTree>> => {\n    const parse = ({\n      pathname,\n      search,\n      hash,\n      state,\n    }: HistoryLocation): ParsedLocation<FullSearchSchema<TRouteTree>> => {\n      const parsedSearch = this.options.parseSearch(search)\n\n      return {\n        pathname: pathname,\n        searchStr: search,\n        search: replaceEqualDeep(previousLocation?.search, parsedSearch) as any,\n        hash: hash.split('#').reverse()[0] ?? '',\n        href: `${pathname}${search}${hash}`,\n        state: replaceEqualDeep(previousLocation?.state, state) as HistoryState,\n      }\n    }\n\n    const location = parse(this.history.location)\n\n    let { __tempLocation, __tempKey } = location.state\n\n    if (__tempLocation && (!__tempKey || __tempKey === this.tempLocationKey)) {\n      // Sync up the location keys\n      const parsedTempLocation = parse(__tempLocation) as any\n      parsedTempLocation.state.key = location.state.key\n\n      delete parsedTempLocation.state.__tempLocation\n\n      return {\n        ...parsedTempLocation,\n        maskedLocation: location,\n      }\n    }\n\n    return location\n  }\n\n  resolvePathWithBase = (from: string, path: string) => {\n    return resolvePath(this.basepath!, from, cleanPath(path))\n  }\n\n  get looseRoutesById() {\n    return this.routesById as Record<string, AnyRoute>\n  }\n\n  matchRoutes = <TRouteTree extends AnyRoute>(\n    pathname: string,\n    locationSearch: AnySearchSchema,\n    opts?: { throwOnError?: boolean; debug?: boolean },\n  ): RouteMatch<TRouteTree>[] => {\n    let routeParams: Record<string, string> = {}\n\n    let foundRoute = this.flatRoutes.find((route) => {\n      const matchedParams = matchPathname(\n        this.basepath,\n        trimPathRight(pathname),\n        {\n          to: route.fullPath,\n          caseSensitive:\n            route.options.caseSensitive ?? this.options.caseSensitive,\n          fuzzy: true,\n        },\n      )\n\n      if (matchedParams) {\n        routeParams = matchedParams\n        return true\n      }\n\n      return false\n    })\n\n    let routeCursor: AnyRoute =\n      foundRoute || (this.routesById as any)['__root__']\n\n    let matchedRoutes: AnyRoute[] = [routeCursor]\n\n    // Check to see if the route needs a 404 entry\n    if (\n      // If we found a route, and it's not an index route and we have left over path\n      (foundRoute\n        ? foundRoute.path !== '/' && routeParams['**']\n        : // Or if we didn't find a route and we have left over path\n          trimPathRight(pathname)) &&\n      // And we have a 404 route configured\n      this.options.notFoundRoute\n    ) {\n      matchedRoutes.push(this.options.notFoundRoute)\n    }\n\n    while (routeCursor?.parentRoute) {\n      routeCursor = routeCursor.parentRoute\n      if (routeCursor) matchedRoutes.unshift(routeCursor)\n    }\n\n    // Existing matches are matches that are already loaded along with\n    // pending matches that are still loading\n\n    const parseErrors = matchedRoutes.map((route) => {\n      let parsedParamsError\n\n      if (route.options.parseParams) {\n        try {\n          const parsedParams = route.options.parseParams(routeParams)\n          // Add the parsed params to the accumulated params bag\n          Object.assign(routeParams, parsedParams)\n        } catch (err: any) {\n          parsedParamsError = new PathParamError(err.message, {\n            cause: err,\n          })\n\n          if (opts?.throwOnError) {\n            throw parsedParamsError\n          }\n\n          return parsedParamsError\n        }\n      }\n\n      return\n    })\n\n    const matches: AnyRouteMatch[] = []\n\n    matchedRoutes.forEach((route, index) => {\n      // Take each matched route and resolve + validate its search params\n      // This has to happen serially because each route's search params\n      // can depend on the parent route's search params\n      // It must also happen before we create the match so that we can\n      // pass the search params to the route's potential key function\n      // which is used to uniquely identify the route match in state\n\n      const parentMatch = matches[index - 1]\n\n      const [preMatchSearch, searchError]: [Record<string, any>, any] = (() => {\n        // Validate the search params and stabilize them\n        const parentSearch = parentMatch?.search ?? locationSearch\n\n        try {\n          const validator =\n            typeof route.options.validateSearch === 'object'\n              ? route.options.validateSearch.parse\n              : route.options.validateSearch\n\n          let search = validator?.(parentSearch) ?? {}\n\n          return [\n            {\n              ...parentSearch,\n              ...search,\n            },\n            undefined,\n          ]\n        } catch (err: any) {\n          const searchError = new SearchParamError(err.message, {\n            cause: err,\n          })\n\n          if (opts?.throwOnError) {\n            throw searchError\n          }\n\n          return [parentSearch, searchError]\n        }\n      })()\n\n      // This is where we need to call route.options.loaderDeps() to get any additional\n      // deps that the route's loader function might need to run. We need to do this\n      // before we create the match so that we can pass the deps to the route's\n      // potential key function which is used to uniquely identify the route match in state\n\n      const loaderDeps =\n        route.options.loaderDeps?.({\n          search: preMatchSearch,\n        }) ?? ''\n\n      const loaderDepsHash = loaderDeps ? JSON.stringify(loaderDeps) : ''\n\n      const interpolatedPath = interpolatePath(route.fullPath, routeParams)\n      const matchId =\n        interpolatePath(route.id, routeParams, true) + loaderDepsHash\n\n      // Waste not, want not. If we already have a match for this route,\n      // reuse it. This is important for layout routes, which might stick\n      // around between navigation actions that only change leaf routes.\n      const existingMatch = getRouteMatch(this.state, matchId)\n\n      const cause = this.state.matches.find((d) => d.id === matchId)\n        ? 'stay'\n        : 'enter'\n\n      // Create a fresh route match\n      const hasLoaders = !!(\n        route.options.loader ||\n        componentTypes.some((d) => (route.options[d] as any)?.preload)\n      )\n\n      const match: AnyRouteMatch = existingMatch\n        ? { ...existingMatch, cause }\n        : {\n            id: matchId,\n            routeId: route.id,\n            params: routeParams,\n            pathname: joinPaths([this.basepath, interpolatedPath]),\n            updatedAt: Date.now(),\n            search: {} as any,\n            searchError: undefined,\n            status: hasLoaders ? 'pending' : 'success',\n            showPending: false,\n            isFetching: false,\n            error: undefined,\n            paramsError: parseErrors[index],\n            loadPromise: Promise.resolve(),\n            routeContext: undefined!,\n            context: undefined!,\n            abortController: new AbortController(),\n            fetchCount: 0,\n            cause,\n            loaderDeps,\n            invalid: false,\n            preload: false,\n          }\n\n      // Regardless of whether we're reusing an existing match or creating\n      // a new one, we need to update the match's search params\n      match.search = replaceEqualDeep(match.search, preMatchSearch)\n      // And also update the searchError if there is one\n      match.searchError = searchError\n\n      matches.push(match)\n    })\n\n    return matches as any\n  }\n\n  cancelMatch = (id: string) => {\n    getRouteMatch(this.state, id)?.abortController?.abort()\n  }\n\n  cancelMatches = () => {\n    this.state.pendingMatches?.forEach((match) => {\n      this.cancelMatch(match.id)\n    })\n  }\n\n  buildLocation: BuildLocationFn<TRouteTree> = (opts) => {\n    const build = (\n      dest: BuildNextOptions & {\n        unmaskOnReload?: boolean\n      } = {},\n      matches?: AnyRouteMatch[],\n    ): ParsedLocation => {\n      const from = this.latestLocation\n      const fromSearch =\n        (this.state.pendingMatches || this.state.matches).at(-1)?.search ||\n        from.search\n      const fromPathname = dest.from ?? from.pathname\n\n      let pathname = this.resolvePathWithBase(fromPathname, `${dest.to ?? ''}`)\n\n      const fromMatches = this.matchRoutes(fromPathname, fromSearch)\n      const stayingMatches = matches?.filter(\n        (d) => fromMatches?.find((e) => e.routeId === d.routeId),\n      )\n\n      const prevParams = { ...last(fromMatches)?.params }\n\n      let nextParams =\n        (dest.params ?? true) === true\n          ? prevParams\n          : functionalUpdate(dest.params!, prevParams)\n\n      if (nextParams) {\n        matches\n          ?.map((d) => this.looseRoutesById[d.routeId]!.options.stringifyParams)\n          .filter(Boolean)\n          .forEach((fn) => {\n            nextParams = { ...nextParams!, ...fn!(nextParams!) }\n          })\n      }\n\n      pathname = interpolatePath(pathname, nextParams ?? {})\n\n      const preSearchFilters =\n        stayingMatches\n          ?.map(\n            (match) =>\n              this.looseRoutesById[match.routeId]!.options.preSearchFilters ??\n              [],\n          )\n          .flat()\n          .filter(Boolean) ?? []\n\n      const postSearchFilters =\n        stayingMatches\n          ?.map(\n            (match) =>\n              this.looseRoutesById[match.routeId]!.options.postSearchFilters ??\n              [],\n          )\n          .flat()\n          .filter(Boolean) ?? []\n\n      // Pre filters first\n      const preFilteredSearch = preSearchFilters?.length\n        ? preSearchFilters?.reduce(\n            (prev, next) => next(prev) as any,\n            fromSearch,\n          )\n        : fromSearch\n\n      // Then the link/navigate function\n      const destSearch =\n        dest.search === true\n          ? preFilteredSearch // Preserve resolvedFrom true\n          : dest.search\n            ? functionalUpdate(dest.search, preFilteredSearch) ?? {} // Updater\n            : preSearchFilters?.length\n              ? preFilteredSearch // Preserve resolvedFrom filters\n              : {}\n\n      // Then post filters\n      const postFilteredSearch = postSearchFilters?.length\n        ? postSearchFilters.reduce((prev, next) => next(prev), destSearch)\n        : destSearch\n\n      const search = replaceEqualDeep(fromSearch, postFilteredSearch)\n\n      const searchStr = this.options.stringifySearch(search)\n\n      const hash =\n        dest.hash === true\n          ? from.hash\n          : dest.hash\n            ? functionalUpdate(dest.hash!, from.hash)\n            : from.hash\n\n      const hashStr = hash ? `#${hash}` : ''\n\n      let nextState =\n        dest.state === true\n          ? from.state\n          : dest.state\n            ? functionalUpdate(dest.state, from.state)\n            : from.state\n\n      nextState = replaceEqualDeep(from.state, nextState)\n\n      return {\n        pathname,\n        search,\n        searchStr,\n        state: nextState as any,\n        hash,\n        href: `${pathname}${searchStr}${hashStr}`,\n        unmaskOnReload: dest.unmaskOnReload,\n      }\n    }\n\n    const buildWithMatches = (\n      dest: BuildNextOptions = {},\n      maskedDest?: BuildNextOptions,\n    ) => {\n      let next = build(dest)\n      let maskedNext = maskedDest ? build(maskedDest) : undefined\n\n      if (!maskedNext) {\n        let params = {}\n\n        let foundMask = this.options.routeMasks?.find((d) => {\n          const match = matchPathname(this.basepath, next.pathname, {\n            to: d.from,\n            caseSensitive: false,\n            fuzzy: false,\n          })\n\n          if (match) {\n            params = match\n            return true\n          }\n\n          return false\n        })\n\n        if (foundMask) {\n          foundMask = {\n            ...foundMask,\n            from: interpolatePath(foundMask.from, params) as any,\n          }\n          maskedDest = foundMask\n          maskedNext = build(maskedDest)\n        }\n      }\n\n      const nextMatches = this.matchRoutes(next.pathname, next.search)\n      const maskedMatches = maskedNext\n        ? this.matchRoutes(maskedNext.pathname, maskedNext.search)\n        : undefined\n      const maskedFinal = maskedNext\n        ? build(maskedDest, maskedMatches)\n        : undefined\n\n      const final = build(dest, nextMatches)\n\n      if (maskedFinal) {\n        final.maskedLocation = maskedFinal\n      }\n\n      return final\n    }\n\n    if (opts.mask) {\n      return buildWithMatches(opts, {\n        ...pick(opts, ['from']),\n        ...opts.mask,\n      })\n    }\n\n    return buildWithMatches(opts)\n  }\n\n  commitLocation = async ({\n    startTransition,\n    ...next\n  }: ParsedLocation & CommitLocationOptions) => {\n    if (this.navigateTimeout) clearTimeout(this.navigateTimeout)\n\n    const isSameUrl = this.latestLocation.href === next.href\n\n    // If the next urls are the same and we're not replacing,\n    // do nothing\n    if (!isSameUrl || !next.replace) {\n      let { maskedLocation, ...nextHistory } = next\n\n      if (maskedLocation) {\n        nextHistory = {\n          ...maskedLocation,\n          state: {\n            ...maskedLocation.state,\n            __tempKey: undefined,\n            __tempLocation: {\n              ...nextHistory,\n              search: nextHistory.searchStr,\n              state: {\n                ...nextHistory.state,\n                __tempKey: undefined!,\n                __tempLocation: undefined!,\n                key: undefined!,\n              },\n            },\n          },\n        }\n\n        if (\n          nextHistory.unmaskOnReload ??\n          this.options.unmaskOnReload ??\n          false\n        ) {\n          nextHistory.state.__tempKey = this.tempLocationKey\n        }\n      }\n\n      const apply = () => {\n        this.history[next.replace ? 'replace' : 'push'](\n          nextHistory.href,\n          nextHistory.state,\n        )\n      }\n\n      if (startTransition ?? true) {\n        this.startReactTransition(apply)\n      } else {\n        apply()\n      }\n    }\n\n    this.resetNextScroll = next.resetScroll ?? true\n\n    return this.latestLoadPromise\n  }\n\n  buildAndCommitLocation = ({\n    replace,\n    resetScroll,\n    startTransition,\n    ...rest\n  }: BuildNextOptions & CommitLocationOptions = {}) => {\n    const location = this.buildLocation(rest as any)\n    return this.commitLocation({\n      ...location,\n      startTransition,\n      replace,\n      resetScroll,\n    })\n  }\n\n  navigate: NavigateFn<TRouteTree> = ({ from, to = '', ...rest }) => {\n    // If this link simply reloads the current route,\n    // make sure it has a new key so it will trigger a data refresh\n\n    // If this `to` is a valid external URL, return\n    // null for LinkUtils\n    const toString = String(to)\n    const fromString = typeof from === 'undefined' ? from : String(from)\n    let isExternal\n\n    try {\n      new URL(`${toString}`)\n      isExternal = true\n    } catch (e) {}\n\n    invariant(\n      !isExternal,\n      'Attempting to navigate to external url with this.navigate!',\n    )\n\n    return this.buildAndCommitLocation({\n      ...rest,\n      from: fromString,\n      to: toString,\n    })\n  }\n\n  loadMatches = async ({\n    checkLatest,\n    matches,\n    preload,\n  }: {\n    checkLatest: () => Promise<void> | undefined\n    matches: AnyRouteMatch[]\n    preload?: boolean\n  }): Promise<RouteMatch[]> => {\n    let latestPromise\n    let firstBadMatchIndex: number | undefined\n\n    const updateMatch = (match: AnyRouteMatch) => {\n      // const isPreload = this.state.cachedMatches.find((d) => d.id === match.id)\n      const isPending = this.state.pendingMatches?.find(\n        (d) => d.id === match.id,\n      )\n\n      const isMatched = this.state.matches.find((d) => d.id === match.id)\n\n      const matchesKey = isPending\n        ? 'pendingMatches'\n        : isMatched\n          ? 'matches'\n          : 'cachedMatches'\n\n      this.__store.setState((s) => ({\n        ...s,\n        [matchesKey]: s[matchesKey]?.map((d) =>\n          d.id === match.id ? match : d,\n        ),\n      }))\n    }\n\n    // Check each match middleware to see if the route can be accessed\n    try {\n      for (let [index, match] of matches.entries()) {\n        const parentMatch = matches[index - 1]\n        const route = this.looseRoutesById[match.routeId]!\n        const abortController = new AbortController()\n\n        const handleErrorAndRedirect = (err: any, code: string) => {\n          err.routerCode = code\n          firstBadMatchIndex = firstBadMatchIndex ?? index\n\n          if (isRedirect(err)) {\n            throw err\n          }\n\n          try {\n            route.options.onError?.(err)\n          } catch (errorHandlerErr) {\n            err = errorHandlerErr\n\n            if (isRedirect(errorHandlerErr)) {\n              throw errorHandlerErr\n            }\n          }\n\n          matches[index] = match = {\n            ...match,\n            error: err,\n            status: 'error',\n            updatedAt: Date.now(),\n            abortController: new AbortController(),\n          }\n        }\n\n        try {\n          if (match.paramsError) {\n            handleErrorAndRedirect(match.paramsError, 'PARSE_PARAMS')\n          }\n\n          if (match.searchError) {\n            handleErrorAndRedirect(match.searchError, 'VALIDATE_SEARCH')\n          }\n\n          const parentContext =\n            parentMatch?.context ?? this.options.context ?? {}\n\n          const beforeLoadContext =\n            (await route.options.beforeLoad?.({\n              search: match.search,\n              abortController,\n              params: match.params,\n              preload: !!preload,\n              context: parentContext,\n              location: this.state.location,\n              // TOOD: just expose state and router, etc\n              navigate: (opts) =>\n                this.navigate({ ...opts, from: match.pathname } as any),\n              buildLocation: this.buildLocation,\n              cause: preload ? 'preload' : match.cause,\n            })) ?? ({} as any)\n\n          if (isRedirect(beforeLoadContext)) {\n            throw beforeLoadContext\n          }\n\n          const context = {\n            ...parentContext,\n            ...beforeLoadContext,\n          }\n\n          matches[index] = match = {\n            ...match,\n            routeContext: replaceEqualDeep(\n              match.routeContext,\n              beforeLoadContext,\n            ),\n            context: replaceEqualDeep(match.context, context),\n            abortController,\n          }\n        } catch (err) {\n          handleErrorAndRedirect(err, 'BEFORE_LOAD')\n          break\n        }\n      }\n    } catch (err) {\n      if (isRedirect(err)) {\n        if (!preload) this.navigate(err as any)\n        return matches\n      }\n\n      throw err\n    }\n\n    const validResolvedMatches = matches.slice(0, firstBadMatchIndex)\n    const matchPromises: Promise<any>[] = []\n\n    validResolvedMatches.forEach((match, index) => {\n      matchPromises.push(\n        new Promise<void>(async (resolve) => {\n          const parentMatchPromise = matchPromises[index - 1]\n          const route = this.looseRoutesById[match.routeId]!\n\n          const handleErrorAndRedirect = (err: any) => {\n            if (isRedirect(err)) {\n              if (!preload) {\n                this.navigate(err as any)\n              }\n              return true\n            }\n            return false\n          }\n\n          let loadPromise: Promise<void> | undefined\n\n          matches[index] = match = {\n            ...match,\n            showPending: false,\n          }\n\n          let didShowPending = false\n          const pendingMs =\n            route.options.pendingMs ?? this.options.defaultPendingMs\n          const pendingMinMs =\n            route.options.pendingMinMs ?? this.options.defaultPendingMinMs\n          const shouldPending =\n            !preload &&\n            pendingMs &&\n            (route.options.pendingComponent ??\n              this.options.defaultPendingComponent)\n\n          const loaderContext: LoaderFnContext = {\n            params: match.params,\n            deps: match.loaderDeps,\n            preload: !!preload,\n            parentMatchPromise,\n            abortController: match.abortController,\n            context: match.context,\n            location: this.state.location,\n            navigate: (opts) =>\n              this.navigate({ ...opts, from: match.pathname } as any),\n            cause: preload ? 'preload' : match.cause,\n          }\n\n          const fetch = async () => {\n            if (match.isFetching) {\n              loadPromise = getRouteMatch(this.state, match.id)?.loadPromise\n            } else {\n              // If the user doesn't want the route to reload, just\n              // resolve with the existing loader data\n\n              if (match.fetchCount && match.status === 'success') {\n                resolve()\n              }\n\n              // Otherwise, load the route\n              matches[index] = match = {\n                ...match,\n                isFetching: true,\n                fetchCount: match.fetchCount + 1,\n              }\n\n              const componentsPromise = Promise.all(\n                componentTypes.map(async (type) => {\n                  const component = route.options[type]\n\n                  if ((component as any)?.preload) {\n                    await (component as any).preload()\n                  }\n                }),\n              )\n\n              const loaderPromise = route.options.loader?.(loaderContext)\n\n              loadPromise = Promise.all([\n                componentsPromise,\n                loaderPromise,\n              ]).then((d) => d[1])\n            }\n\n            matches[index] = match = {\n              ...match,\n              loadPromise,\n            }\n\n            updateMatch(match)\n\n            try {\n              const loaderData = await loadPromise\n              if ((latestPromise = checkLatest())) return await latestPromise\n\n              if (isRedirect(loaderData)) {\n                if (handleErrorAndRedirect(loaderData)) return\n              }\n\n              if (didShowPending && pendingMinMs) {\n                await new Promise((r) => setTimeout(r, pendingMinMs))\n              }\n\n              if ((latestPromise = checkLatest())) return await latestPromise\n\n              matches[index] = match = {\n                ...match,\n                error: undefined,\n                status: 'success',\n                isFetching: false,\n                updatedAt: Date.now(),\n                loaderData,\n                loadPromise: undefined,\n              }\n            } catch (error) {\n              if ((latestPromise = checkLatest())) return await latestPromise\n              if (handleErrorAndRedirect(error)) return\n\n              try {\n                route.options.onError?.(error)\n              } catch (onErrorError) {\n                error = onErrorError\n                if (handleErrorAndRedirect(onErrorError)) return\n              }\n\n              matches[index] = match = {\n                ...match,\n                error,\n                status: 'error',\n                isFetching: false,\n              }\n            }\n\n            updateMatch(match)\n          }\n\n          // This is where all of the stale-while-revalidate magic happens\n          const age = Date.now() - match.updatedAt\n\n          let staleAge = preload\n            ? route.options.preloadStaleTime ??\n              this.options.defaultPreloadStaleTime ??\n              30_000 // 30 seconds for preloads by default\n            : route.options.staleTime ?? this.options.defaultStaleTime ?? 0\n\n          // Default to reloading the route all the time\n          let shouldReload\n\n          const shouldReloadOption = route.options.shouldReload\n\n          // Allow shouldReload to get the last say,\n          // if provided.\n          shouldReload =\n            typeof shouldReloadOption === 'function'\n              ? shouldReloadOption(loaderContext)\n              : shouldReloadOption\n\n          matches[index] = match = {\n            ...match,\n            preload:\n              !!preload && !this.state.matches.find((d) => d.id === match.id),\n          }\n\n          if (match.status !== 'success') {\n            // If we need to potentially show the pending component,\n            // start a timer to show it after the pendingMs\n            if (shouldPending) {\n              new Promise((r) => setTimeout(r, pendingMs)).then(async () => {\n                if ((latestPromise = checkLatest())) return latestPromise\n\n                didShowPending = true\n                matches[index] = match = {\n                  ...match,\n                  showPending: true,\n                }\n\n                updateMatch(match)\n                resolve()\n              })\n            }\n\n            // Critical Fetching, we need to await\n            await fetch()\n          } else if (match.invalid || (shouldReload ?? age > staleAge)) {\n            // Background Fetching, no need to wait\n            fetch()\n          }\n\n          resolve()\n        }),\n      )\n    })\n\n    await Promise.all(matchPromises)\n    return matches\n  }\n\n  invalidate = () => {\n    const invalidate = (d: any) => ({\n      ...d,\n      invalid: true,\n    })\n\n    this.__store.setState((s) => ({\n      ...s,\n      matches: s.matches.map(invalidate),\n      cachedMatches: s.cachedMatches.map(invalidate),\n      pendingMatches: s.pendingMatches?.map(invalidate),\n    }))\n\n    this.load()\n  }\n\n  load = async (): Promise<void> => {\n    const promise = new Promise<void>(async (resolve, reject) => {\n      const next = this.latestLocation\n      const prevLocation = this.state.resolvedLocation\n      const pathDidChange = prevLocation!.href !== next.href\n      let latestPromise: Promise<void> | undefined | null\n\n      // Cancel any pending matches\n      this.cancelMatches()\n\n      this.emit({\n        type: 'onBeforeLoad',\n        fromLocation: prevLocation,\n        toLocation: next,\n        pathChanged: pathDidChange,\n      })\n\n      let pendingMatches!: RouteMatch<any, any>[]\n      const previousMatches = this.state.matches\n\n      this.__store.batch(() => {\n        this.cleanCache()\n\n        // Match the routes\n        pendingMatches = this.matchRoutes(next.pathname, next.search, {\n          debug: true,\n        })\n\n        // Ingest the new matches\n        // If a cached moved to pendingMatches, remove it from cachedMatches\n        this.__store.setState((s) => ({\n          ...s,\n          isLoading: true,\n          location: next,\n          pendingMatches,\n          cachedMatches: s.cachedMatches.filter((d) => {\n            return !pendingMatches.find((e) => e.id === d.id)\n          }),\n        }))\n      })\n\n      try {\n        try {\n          // Load the matches\n          await this.loadMatches({\n            matches: pendingMatches,\n            checkLatest: () => this.checkLatest(promise),\n          })\n        } catch (err) {\n          // swallow this error, since we'll display the\n          // errors on the route components\n        }\n\n        // Only apply the latest transition\n        if ((latestPromise = this.checkLatest(promise))) {\n          return latestPromise\n        }\n\n        const exitingMatches = previousMatches.filter(\n          (match) => !pendingMatches.find((d) => d.id === match.id),\n        )\n        const enteringMatches = pendingMatches.filter(\n          (match) => !previousMatches.find((d) => d.id === match.id),\n        )\n        const stayingMatches = previousMatches.filter((match) =>\n          pendingMatches.find((d) => d.id === match.id),\n        )\n\n        // Commit the pending matches. If a previous match was\n        // removed, place it in the cachedMatches\n        this.__store.batch(() => {\n          this.__store.setState((s) => ({\n            ...s,\n            isLoading: false,\n            matches: s.pendingMatches!,\n            pendingMatches: undefined,\n            cachedMatches: [\n              ...s.cachedMatches,\n              ...exitingMatches.filter((d) => d.status !== 'error'),\n            ],\n          }))\n          this.cleanCache()\n        })\n\n        //\n        ;(\n          [\n            [exitingMatches, 'onLeave'],\n            [enteringMatches, 'onEnter'],\n            [stayingMatches, 'onStay'],\n          ] as const\n        ).forEach(([matches, hook]) => {\n          matches.forEach((match) => {\n            this.looseRoutesById[match.routeId]!.options[hook]?.(match)\n          })\n        })\n\n        this.emit({\n          type: 'onLoad',\n          fromLocation: prevLocation,\n          toLocation: next,\n          pathChanged: pathDidChange,\n        })\n\n        resolve()\n      } catch (err) {\n        // Only apply the latest transition\n        if ((latestPromise = this.checkLatest(promise))) {\n          return latestPromise\n        }\n\n        reject(err)\n      }\n    })\n\n    this.latestLoadPromise = promise\n\n    return this.latestLoadPromise\n  }\n\n  cleanCache = () => {\n    // This is where all of the garbage collection magic happens\n    this.__store.setState((s) => {\n      return {\n        ...s,\n        cachedMatches: s.cachedMatches.filter((d) => {\n          const route = this.looseRoutesById[d.routeId]!\n\n          if (!route.options.loader) {\n            return false\n          }\n\n          // If the route was preloaded, use the preloadGcTime\n          // otherwise, use the gcTime\n          const gcTime =\n            (d.preload\n              ? route.options.preloadGcTime ?? this.options.defaultPreloadGcTime\n              : route.options.gcTime ?? this.options.defaultGcTime) ??\n            5 * 60 * 1000\n\n          return d.status !== 'error' && Date.now() - d.updatedAt < gcTime\n        }),\n      }\n    })\n  }\n\n  preloadRoute = async (\n    navigateOpts: ToOptions<TRouteTree> = this.state.location as any,\n  ) => {\n    let next = this.buildLocation(navigateOpts as any)\n\n    let matches = this.matchRoutes(next.pathname, next.search, {\n      throwOnError: true,\n    })\n\n    const loadedMatchIds = Object.fromEntries(\n      [\n        ...this.state.matches,\n        ...(this.state.pendingMatches ?? []),\n        ...this.state.cachedMatches,\n      ]?.map((d) => [d.id, true]),\n    )\n\n    this.__store.batch(() => {\n      matches.forEach((match) => {\n        if (!loadedMatchIds[match.id]) {\n          this.__store.setState((s) => ({\n            ...s,\n            cachedMatches: [...(s.cachedMatches as any), match],\n          }))\n        }\n      })\n    })\n\n    matches = await this.loadMatches({\n      matches,\n      preload: true,\n      checkLatest: () => undefined,\n    })\n\n    return matches\n  }\n\n  matchRoute: MatchRouteFn<TRouteTree> = (location, opts) => {\n    location = {\n      ...location,\n      to: location.to\n        ? this.resolvePathWithBase((location.from || '') as string, location.to)\n        : undefined,\n    } as any\n\n    const next = this.buildLocation(location as any)\n\n    if (opts?.pending && this.state.status !== 'pending') {\n      return false\n    }\n\n    const baseLocation = opts?.pending\n      ? this.latestLocation\n      : this.state.resolvedLocation\n\n    if (!baseLocation) {\n      return false\n    }\n\n    const match = matchPathname(this.basepath, baseLocation.pathname, {\n      ...opts,\n      to: next.pathname,\n    }) as any\n\n    if (!match) {\n      return false\n    }\n\n    if (match && (opts?.includeSearch ?? true)) {\n      return deepEqual(baseLocation.search, next.search, true) ? match : false\n    }\n\n    return match\n  }\n\n  injectHtml = async (html: string | (() => Promise<string> | string)) => {\n    this.injectedHtml.push(html)\n  }\n\n  dehydrateData = <T>(key: any, getData: T | (() => Promise<T> | T)) => {\n    if (typeof document === 'undefined') {\n      const strKey = typeof key === 'string' ? key : JSON.stringify(key)\n\n      this.injectHtml(async () => {\n        const id = `__TSR_DEHYDRATED__${strKey}`\n        const data =\n          typeof getData === 'function' ? await (getData as any)() : getData\n        return `<script id='${id}' suppressHydrationWarning>window[\"__TSR_DEHYDRATED__${escapeJSON(\n          strKey,\n        )}\"] = ${JSON.stringify(data)}\n          ;(() => {\n            var el = document.getElementById('${id}')\n            el.parentElement.removeChild(el)\n          })()\n          </script>`\n      })\n\n      return () => this.hydrateData<T>(key)\n    }\n\n    return () => undefined\n  }\n\n  hydrateData = <T extends any = unknown>(key: any) => {\n    if (typeof document !== 'undefined') {\n      const strKey = typeof key === 'string' ? key : JSON.stringify(key)\n\n      return window[`__TSR_DEHYDRATED__${strKey}` as any] as T\n    }\n\n    return undefined\n  }\n\n  dehydrate = (): DehydratedRouter => {\n    return {\n      state: {\n        dehydratedMatches: this.state.matches.map((d) =>\n          pick(d, ['id', 'status', 'updatedAt', 'loaderData']),\n        ),\n      },\n    }\n  }\n\n  hydrate = async (__do_not_use_server_ctx?: HydrationCtx) => {\n    let _ctx = __do_not_use_server_ctx\n    // Client hydrates from window\n    if (typeof document !== 'undefined') {\n      _ctx = window.__TSR_DEHYDRATED__\n    }\n\n    invariant(\n      _ctx,\n      'Expected to find a __TSR_DEHYDRATED__ property on window... but we did not. Did you forget to render <DehydrateRouter /> in your app?',\n    )\n\n    const ctx = _ctx\n    this.dehydratedData = ctx.payload as any\n    this.options.hydrate?.(ctx.payload as any)\n    const dehydratedState = ctx.router.state\n\n    let matches = this.matchRoutes(\n      this.state.location.pathname,\n      this.state.location.search,\n    ).map((match) => {\n      const dehydratedMatch = dehydratedState.dehydratedMatches.find(\n        (d) => d.id === match.id,\n      )\n\n      invariant(\n        dehydratedMatch,\n        `Could not find a client-side match for dehydrated match with id: ${match.id}!`,\n      )\n\n      if (dehydratedMatch) {\n        return {\n          ...match,\n          ...dehydratedMatch,\n        }\n      }\n      return match\n    })\n\n    this.__store.setState((s) => {\n      return {\n        ...s,\n        matches: matches as any,\n      }\n    })\n  }\n\n  // resolveMatchPromise = (matchId: string, key: string, value: any) => {\n  //   state.matches\n  //     .find((d) => d.id === matchId)\n  //     ?.__promisesByKey[key]?.resolve(value)\n  // }\n}\n\n// A function that takes an import() argument which is a function and returns a new function that will\n// proxy arguments from the caller to the imported function, retaining all type\n// information along the way\nexport function lazyFn<\n  T extends Record<string, (...args: any[]) => any>,\n  TKey extends keyof T = 'default',\n>(fn: () => Promise<T>, key?: TKey) {\n  return async (...args: Parameters<T[TKey]>): Promise<ReturnType<T[TKey]>> => {\n    const imported = await fn()\n    return imported[key || 'default'](...args)\n  }\n}\n\nexport class SearchParamError extends Error {}\n\nexport class PathParamError extends Error {}\n\nexport function getInitialRouterState(\n  location: ParsedLocation,\n): RouterState<any> {\n  return {\n    isLoading: false,\n    isTransitioning: false,\n    status: 'idle',\n    resolvedLocation: { ...location },\n    location,\n    matches: [],\n    pendingMatches: [],\n    cachedMatches: [],\n    lastUpdated: Date.now(),\n  }\n}\n","import * as React from 'react'\n\nconst useLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nimport { ParsedLocation } from './location'\nimport { useRouter } from './RouterProvider'\nimport { NonNullableUpdater, functionalUpdate } from './utils'\n\nconst windowKey = 'window'\nconst delimiter = '___'\n\nlet weakScrolledElements = new WeakSet<any>()\n\ntype CacheValue = Record<string, { scrollX: number; scrollY: number }>\ntype CacheState = {\n  cached: CacheValue\n  next: CacheValue\n}\n\ntype Cache = {\n  state: CacheState\n  set: (updater: NonNullableUpdater<CacheState>) => void\n}\n\nconst sessionsStorage = typeof window !== 'undefined' && window.sessionStorage\n\nlet cache: Cache = sessionsStorage\n  ? (() => {\n      const storageKey = 'tsr-scroll-restoration-v2'\n\n      const state: CacheState = JSON.parse(\n        window.sessionStorage.getItem(storageKey) || 'null',\n      ) || { cached: {}, next: {} }\n\n      return {\n        state,\n        set: (updater) => {\n          cache.state = functionalUpdate(updater, cache.state)\n          window.sessionStorage.setItem(storageKey, JSON.stringify(cache.state))\n        },\n      }\n    })()\n  : (undefined as any)\n\nexport type ScrollRestorationOptions = {\n  getKey?: (location: ParsedLocation) => string\n}\n\nconst defaultGetKey = (location: ParsedLocation) => location.state.key!\n\nexport function useScrollRestoration(options?: ScrollRestorationOptions) {\n  const router = useRouter()\n\n  useLayoutEffect(() => {\n    const getKey = options?.getKey || defaultGetKey\n\n    const { history } = window\n    if (history.scrollRestoration) {\n      history.scrollRestoration = 'manual'\n    }\n\n    const onScroll = (event: Event) => {\n      if (weakScrolledElements.has(event.target)) return\n      weakScrolledElements.add(event.target)\n\n      let elementSelector = ''\n\n      if (event.target === document || event.target === window) {\n        elementSelector = windowKey\n      } else {\n        const attrId = (event.target as Element).getAttribute(\n          'data-scroll-restoration-id',\n        )\n\n        if (attrId) {\n          elementSelector = `[data-scroll-restoration-id=\"${attrId}\"]`\n        } else {\n          elementSelector = getCssSelector(event.target)\n        }\n      }\n\n      if (!cache.state.next[elementSelector]) {\n        cache.set((c) => ({\n          ...c,\n          next: {\n            ...c.next,\n            [elementSelector]: {\n              scrollX: NaN,\n              scrollY: NaN,\n            },\n          },\n        }))\n      }\n    }\n\n    if (typeof document !== 'undefined') {\n      document.addEventListener('scroll', onScroll, true)\n    }\n\n    const unsubOnBeforeLoad = router.subscribe('onBeforeLoad', (event) => {\n      if (event.pathChanged) {\n        const restoreKey = getKey(event.fromLocation)\n        for (const elementSelector in cache.state.next) {\n          const entry = cache.state.next[elementSelector]!\n          if (elementSelector === windowKey) {\n            entry.scrollX = window.scrollX || 0\n            entry.scrollY = window.scrollY || 0\n          } else if (elementSelector) {\n            const element = document.querySelector(elementSelector)\n            entry.scrollX = element?.scrollLeft || 0\n            entry.scrollY = element?.scrollTop || 0\n          }\n\n          cache.set((c) => {\n            const next = { ...c.next }\n            delete next[elementSelector]\n\n            return {\n              ...c,\n              next,\n              cached: {\n                ...c.cached,\n                [[restoreKey, elementSelector].join(delimiter)]: entry,\n              },\n            }\n          })\n        }\n      }\n    })\n\n    const unsubOnResolved = router.subscribe('onResolved', (event) => {\n      if (event.pathChanged) {\n        if (!router.resetNextScroll) {\n          return\n        }\n\n        router.resetNextScroll = true\n\n        const getKey = options?.getKey || defaultGetKey\n\n        const restoreKey = getKey(event.toLocation)\n        let windowRestored = false\n\n        for (const cacheKey in cache.state.cached) {\n          const entry = cache.state.cached[cacheKey]!\n          const [key, elementSelector] = cacheKey.split(delimiter)\n          if (key === restoreKey) {\n            if (elementSelector === windowKey) {\n              windowRestored = true\n              window.scrollTo(entry.scrollX, entry.scrollY)\n            } else if (elementSelector) {\n              const element = document.querySelector(elementSelector)\n              if (element) {\n                element.scrollLeft = entry.scrollX\n                element.scrollTop = entry.scrollY\n              }\n            }\n          }\n        }\n\n        if (!windowRestored) {\n          window.scrollTo(0, 0)\n        }\n\n        cache.set((c) => ({ ...c, next: {} }))\n        weakScrolledElements = new WeakSet<any>()\n      }\n    })\n\n    return () => {\n      document.removeEventListener('scroll', onScroll)\n      unsubOnBeforeLoad()\n      unsubOnResolved()\n    }\n  }, [])\n}\n\nexport function ScrollRestoration(props: ScrollRestorationOptions) {\n  useScrollRestoration(props)\n  return null\n}\n\nexport function useElementScrollRestoration(\n  options: (\n    | {\n        id: string\n        getElement?: () => Element | undefined | null\n      }\n    | {\n        id?: string\n        getElement: () => Element | undefined | null\n      }\n  ) & {\n    getKey?: (location: ParsedLocation) => string\n  },\n) {\n  const router = useRouter()\n  const getKey = options?.getKey || defaultGetKey\n\n  let elementSelector = ''\n\n  if (options.id) {\n    elementSelector = `[data-scroll-restoration-id=\"${options.id}\"]`\n  } else {\n    const element = options.getElement?.()\n    if (!element) {\n      return\n    }\n    elementSelector = getCssSelector(element)\n  }\n\n  const restoreKey = getKey(router.latestLocation)\n  const cacheKey = [restoreKey, elementSelector].join(delimiter)\n  return cache.state.cached[cacheKey]\n}\n\nfunction getCssSelector(el: any): string {\n  let path = [],\n    parent\n  while ((parent = el.parentNode)) {\n    path.unshift(\n      `${el.tagName}:nth-child(${\n        ([].indexOf as any).call(parent.children, el) + 1\n      })`,\n    )\n    el = parent\n  }\n  return `${path.join(' > ')}`.toLowerCase()\n}\n","import * as React from 'react'\nimport { ReactNode } from './route'\nimport { useRouter } from './RouterProvider'\nimport { BlockerFn } from '@tanstack/history'\n\nexport function useBlocker(\n  blockerFn: BlockerFn,\n  condition: boolean | any = true,\n): void {\n  const { history } = useRouter()\n\n  React.useEffect(() => {\n    if (!condition) return\n    return history.block(blockerFn)\n  })\n}\n\nexport function Block({ blocker, condition, children }: PromptProps) {\n  useBlocker(blocker, condition)\n  return (children ?? null) as ReactNode\n}\n\nexport type PromptProps = {\n  blocker: BlockerFn\n  condition?: boolean | any\n  children?: ReactNode\n}\n","import * as React from 'react'\nimport { useMatch } from './Matches'\nimport { useRouter } from './RouterProvider'\nimport { LinkOptions, NavigateOptions } from './link'\nimport { AnyRoute } from './route'\nimport { RoutePaths } from './routeInfo'\nimport { RegisteredRouter } from './router'\nimport { useLayoutEffect } from './utils'\n\nexport function useNavigate<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TDefaultFrom extends RoutePaths<TRouteTree> = '/',\n>(defaultOpts?: { from?: TDefaultFrom }) {\n  const { navigate } = useRouter()\n  const matchPathname = useMatch({\n    strict: false,\n    select: (s) => s.pathname,\n  })\n  return React.useCallback(\n    <\n      TFrom extends RoutePaths<TRouteTree> = TDefaultFrom,\n      TTo extends string = '',\n      TMaskFrom extends RoutePaths<TRouteTree> = '/',\n      TMaskTo extends string = '',\n    >(\n      opts?: NavigateOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>,\n    ) => {\n      return navigate({\n        from: opts?.to ? matchPathname : undefined,\n        ...defaultOpts,\n        ...(opts as any),\n      })\n    },\n    [],\n  )\n}\n\n// NOTE: I don't know of anyone using this. It's undocumented, so let's wait until someone needs it\n// export function typedNavigate<\n//   TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n//   TDefaultFrom extends RoutePaths<TRouteTree> = '/',\n// >(navigate: (opts: NavigateOptions<any>) => Promise<void>) {\n//   return navigate as <\n//     TFrom extends RoutePaths<TRouteTree> = TDefaultFrom,\n//     TTo extends string = '',\n//     TMaskFrom extends RoutePaths<TRouteTree> = '/',\n//     TMaskTo extends string = '',\n//   >(\n//     opts?: NavigateOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>,\n//   ) => Promise<void>\n// } //\n\nexport function Navigate<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n>(props: NavigateOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo>): null {\n  const { navigate } = useRouter()\n  const match = useMatch({ strict: false })\n\n  React.useEffect(() => {\n    navigate({\n      from: props.to ? match.pathname : undefined,\n      ...props,\n    } as any)\n  }, [])\n\n  return null\n}\n\nexport type UseLinkPropsOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n> = ActiveLinkOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> &\n  React.AnchorHTMLAttributes<HTMLAnchorElement>\n\nexport type LinkProps<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n> = ActiveLinkOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> &\n  Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, 'children'> & {\n    // If a function is passed as a child, it will be given the `isActive` boolean to aid in further styling on the element it returns\n    children?:\n      | React.ReactNode\n      | ((state: { isActive: boolean }) => React.ReactNode)\n  }\n\nexport type ActiveLinkOptions<\n  TRouteTree extends AnyRoute = RegisteredRouter['routeTree'],\n  TFrom extends RoutePaths<TRouteTree> = '/',\n  TTo extends string = '',\n  TMaskFrom extends RoutePaths<TRouteTree> = '/',\n  TMaskTo extends string = '',\n> = LinkOptions<TRouteTree, TFrom, TTo, TMaskFrom, TMaskTo> & {\n  // A function that returns additional props for the `active` state of this link. These props override other props passed to the link (`style`'s are merged, `className`'s are concatenated)\n  activeProps?:\n    | React.AnchorHTMLAttributes<HTMLAnchorElement>\n    | (() => React.AnchorHTMLAttributes<HTMLAnchorElement>)\n  // A function that returns additional props for the `inactive` state of this link. These props override other props passed to the link (`style`'s are merged, `className`'s are concatenated)\n  inactiveProps?:\n    | React.AnchorHTMLAttributes<HTMLAnchorElement>\n    | (() => React.AnchorHTMLAttributes<HTMLAnchorElement>)\n}\n"],"names":["React","require$$0","withSelectorModule","useSyncExternalStoreWithSelector","shallow","CatchBoundary","props","errorComponent","ErrorComponent","createElement","CatchBoundaryImpl","getResetKey","onCatch","children","error","Component","state","getDerivedStateFromProps","resetKey","getDerivedStateFromError","componentDidUpdate","prevProps","prevState","setState","componentDidCatch","console","render","show","setShow","useState","process","style","padding","maxWidth","display","alignItems","gap","fontSize","appearance","border","fontWeight","borderRadius","onClick","d","height","color","overflow","message","isServer","document","last","arr","length","isFunction","functionalUpdate","updater","previous","pick","parent","keys","reduce","obj","key","replaceEqualDeep","prev","_next","next","array","Array","isArray","isPlainObject","prevSize","Object","nextItems","nextSize","copy","equalItems","i","o","hasObjectPrototype","ctor","constructor","prot","prototype","hasOwnProperty","toString","call","deepEqual","a","b","partial","aKeys","bKeys","some","item","index","useStableCallback","fn","fnRef","useRef","current","ref","args","objA","objB","is","keysA","useRouteContext","opts","useMatch","select","match","context","useLayoutEffect","window","useEffect","escapeJSON","jsonString","replace","matchContext","createContext","undefined","Matches","router","useRouter","matchId","useRouterState","s","getRenderedMatches","id","Provider","value","resolvedLocation","warning","Match","SafeFragment","Fragment","routeId","find","invariant","route","routesById","PendingComponent","options","pendingComponent","defaultPendingComponent","pendingElement","routeErrorComponent","defaultErrorComponent","ResolvedSuspenseBoundary","wrapInSuspense","component","preload","Suspense","ResolvedCatchBoundary","fallback","MatchInner","status","showPending","loadPromise","Comp","defaultComponent","Outlet","memo","useContext","childMatchId","matches","findIndex","useMatchRoute","location","matchRoute","useCallback","pending","caseSensitive","rest","MatchRoute","params","pendingMatches","nearestMatchId","nearestMatchRouteId","matchRouteId","from","strict","matchSelection","useMatches","useParentMatches","contextMatchId","slice","useLoaderDeps","loaderDeps","useLoaderData","loaderData","routerContext","__TSR_ROUTER_CONTEXT__","RouterProvider","update","InnerWrap","provider","Transitioner","Wrap","routerState","isTransitioning","startReactTransition","useTransition","__store","tryLoad","apply","cb","load","err","unsub","history","subscribe","latestLocation","parseLocation","nextLocation","buildLocation","search","hash","href","commitLocation","isLoading","emit","type","fromLocation","toLocation","pathChanged","querySelector","el","getElementById","scrollIntoView","__TSR_DEHYDRATED__","getRouteMatch","cachedMatches","useStore","resolvedContext","defer","_promise","promise","__deferredState","uid","Math","random","then","data","catch","isDehydratedDeferred","Promise","useAwaited","hydrateData","resolve","r","setTimeout","dehydrateData","Await","awaited","joinPaths","paths","cleanPath","filter","Boolean","join","path","trimPathLeft","trimPathRight","trimPath","resolvePath","basepath","base","to","RegExp","baseSegments","parsePathname","toSegments","forEach","toSegment","push","pop","joined","map","pathname","segments","substring","split","part","charAt","interpolatePath","leaveWildcards","interpolatedPathSegments","segment","matchPathname","currentPathname","matchLocation","pathParams","matchByPath","removeBasepath","routeSegments","startsWith","unshift","isMatch","max","baseSegment","routeSegment","isLastBaseSegment","isLastRouteSegment","toLowerCase","fuzzy","useParams","useSearch","rootRouteId","RouteApi","Route","isRoot","getParentRoute","$$typeof","Symbol","for","init","originalIndex","parentRoute","customId","fullPath","addChildren","assign","rootRouteWithContext","RootRoute","createRouteMask","NotFoundRoute","FileRoute","createRoute","lazyRouteComponent","importer","exportName","lazyComp","lazy","moduleExports","comp","default","preloadWarning","useLinkProps","target","activeProps","className","inactiveProps","activeOptions","disabled","mask","userPreload","preloadDelay","userPreloadDelay","startTransition","resetScroll","onFocus","onMouseEnter","onMouseLeave","onTouchStart","dest","URL","defaultPreload","defaultPreloadDelay","isActive","currentPathSplit","nextPathSplit","pathIsFuzzyEqual","every","pathTest","exact","hashTest","includeHash","searchTest","includeSearch","handleClick","e","isCtrlEvent","defaultPrevented","button","preventDefault","handleFocus","preloadRoute","warn","handleTouchStart","handleEnter","preloadTimeout","handleLeave","clearTimeout","composeHandlers","handlers","persist","handler","resolvedActiveProps","resolvedInactiveProps","maskedLocation","role","Link","forwardRef","linkProps","_extends","metaKey","altKey","ctrlKey","shiftKey","encode","pfx","k","tmp","str","encodeURIComponent","toValue","mix","decodeURIComponent","decode","out","shift","concat","redirect","isRedirect","throw","defaultParseSearch","parseSearchWith","JSON","parse","defaultStringifySearch","stringifySearchWith","stringify","parser","searchStr","query","stringifyValue","val","componentTypes","Router","tempLocationKey","round","resetNextScroll","navigateTimeout","latestLoadPromise","subscribers","Set","injectedHtml","defaultPendingMs","defaultPendingMinMs","stringifySearch","parseSearch","newOptions","createBrowserHistory","createMemoryHistory","routeTree","buildRouteTree","Store","getInitialRouterState","onUpdate","routesByPath","notFoundRoute","recurseRoutes","childRoutes","childRoute","existingRoute","String","trimmedFullPath","endsWith","scoredRoutes","values","trimmed","parsed","scores","child","flatRoutes","sort","minLength","min","rank","eventType","listener","add","delete","routerEvent","checkLatest","previousLocation","parsedSearch","reverse","__tempLocation","__tempKey","parsedTempLocation","resolvePathWithBase","looseRoutesById","matchRoutes","locationSearch","routeParams","foundRoute","matchedParams","routeCursor","matchedRoutes","parseErrors","parsedParamsError","parseParams","parsedParams","PathParamError","cause","throwOnError","parentMatch","preMatchSearch","searchError","parentSearch","validator","validateSearch","SearchParamError","loaderDepsHash","interpolatedPath","existingMatch","hasLoaders","loader","updatedAt","Date","now","isFetching","paramsError","routeContext","abortController","AbortController","fetchCount","invalid","cancelMatch","abort","cancelMatches","build","fromSearch","at","fromPathname","fromMatches","stayingMatches","prevParams","nextParams","stringifyParams","preSearchFilters","flat","postSearchFilters","preFilteredSearch","destSearch","postFilteredSearch","hashStr","nextState","unmaskOnReload","buildWithMatches","maskedDest","maskedNext","foundMask","routeMasks","nextMatches","maskedMatches","maskedFinal","final","isSameUrl","nextHistory","buildAndCommitLocation","navigate","fromString","isExternal","loadMatches","latestPromise","firstBadMatchIndex","updateMatch","isPending","isMatched","matchesKey","entries","handleErrorAndRedirect","code","routerCode","onError","errorHandlerErr","parentContext","beforeLoadContext","beforeLoad","validResolvedMatches","matchPromises","parentMatchPromise","didShowPending","pendingMs","pendingMinMs","shouldPending","loaderContext","deps","fetch","componentsPromise","all","loaderPromise","onErrorError","age","staleAge","preloadStaleTime","defaultPreloadStaleTime","staleTime","defaultStaleTime","shouldReload","shouldReloadOption","invalidate","reject","prevLocation","pathDidChange","previousMatches","batch","cleanCache","debug","exitingMatches","enteringMatches","hook","gcTime","preloadGcTime","defaultPreloadGcTime","defaultGcTime","navigateOpts","loadedMatchIds","fromEntries","baseLocation","injectHtml","html","getData","strKey","dehydrate","dehydratedMatches","hydrate","__do_not_use_server_ctx","_ctx","ctx","dehydratedData","payload","dehydratedState","dehydratedMatch","lazyFn","imported","Error","lastUpdated","windowKey","delimiter","weakScrolledElements","WeakSet","sessionsStorage","sessionStorage","cache","storageKey","getItem","cached","set","setItem","defaultGetKey","useScrollRestoration","getKey","scrollRestoration","onScroll","event","has","elementSelector","attrId","getAttribute","getCssSelector","c","scrollX","NaN","scrollY","addEventListener","unsubOnBeforeLoad","restoreKey","entry","element","scrollLeft","scrollTop","unsubOnResolved","windowRestored","cacheKey","scrollTo","removeEventListener","ScrollRestoration","useElementScrollRestoration","getElement","parentNode","tagName","indexOf","useBlocker","blockerFn","condition","block","Block","blocker","useNavigate","defaultOpts","Navigate"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6]}